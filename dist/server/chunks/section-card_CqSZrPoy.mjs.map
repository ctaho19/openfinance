{"version":3,"file":"section-card_CqSZrPoy.mjs","sources":["../../../src/lib/pay-periods.ts","../../../src/components/ui/section-card.tsx"],"sourcesContent":["import {\n  addDays,\n  startOfDay,\n  isBefore,\n  isAfter,\n  isEqual,\n  format,\n  addWeeks,\n  subWeeks,\n} from \"date-fns\";\n\nexport interface PayPeriod {\n  startDate: Date;\n  endDate: Date;\n  paycheckDate: Date;\n}\n\n// Reference paycheck date (Nov 26, 2025 - Wednesday)\nconst REFERENCE_PAYCHECK = new Date(2025, 10, 26); // Month is 0-indexed\n\n/**\n * Get the paycheck date for a given date based on bi-weekly Wednesday schedule\n */\nexport function getPaycheckDateForDate(date: Date): Date {\n  const target = startOfDay(date);\n  const reference = startOfDay(REFERENCE_PAYCHECK);\n\n  // Calculate weeks difference from reference\n  const diffTime = target.getTime() - reference.getTime();\n  const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\n  const diffWeeks = Math.floor(diffDays / 7);\n\n  // Bi-weekly means every 2 weeks\n  const periodsFromReference = Math.floor(diffWeeks / 2);\n  const paycheckDate = addWeeks(reference, periodsFromReference * 2);\n\n  // If the calculated paycheck is after the target, go back 2 weeks\n  if (isAfter(paycheckDate, target)) {\n    return subWeeks(paycheckDate, 2);\n  }\n\n  return paycheckDate;\n}\n\n/**\n * Get the pay period that contains the given date\n */\nexport function getPayPeriodForDate(date: Date): PayPeriod {\n  const paycheckDate = getPaycheckDateForDate(date);\n\n  return {\n    startDate: paycheckDate,\n    endDate: addDays(paycheckDate, 13), // 14 days total (day 0-13)\n    paycheckDate,\n  };\n}\n\n/**\n * Get the current pay period\n */\nexport function getCurrentPayPeriod(): PayPeriod {\n  return getPayPeriodForDate(new Date());\n}\n\n/**\n * Get the next pay period\n */\nexport function getNextPayPeriod(): PayPeriod {\n  const current = getCurrentPayPeriod();\n  return getPayPeriodForDate(addDays(current.endDate, 1));\n}\n\n/**\n * Get the previous pay period\n */\nexport function getPreviousPayPeriod(): PayPeriod {\n  const current = getCurrentPayPeriod();\n  return getPayPeriodForDate(subWeeks(current.startDate, 1));\n}\n\n/**\n * Get multiple pay periods starting from a date\n */\nexport function getPayPeriods(\n  startDate: Date,\n  count: number,\n  direction: \"forward\" | \"backward\" = \"forward\"\n): PayPeriod[] {\n  const periods: PayPeriod[] = [];\n  let currentDate = startDate;\n\n  for (let i = 0; i < count; i++) {\n    const period = getPayPeriodForDate(currentDate);\n    periods.push(period);\n\n    if (direction === \"forward\") {\n      currentDate = addDays(period.endDate, 1);\n    } else {\n      currentDate = subWeeks(period.startDate, 1);\n    }\n  }\n\n  return direction === \"backward\" ? periods.reverse() : periods;\n}\n\n/**\n * Check if a date falls within a pay period\n */\nexport function isDateInPayPeriod(date: Date, payPeriod: PayPeriod): boolean {\n  const target = startOfDay(date);\n  const start = startOfDay(payPeriod.startDate);\n  const end = startOfDay(payPeriod.endDate);\n\n  return (\n    (isAfter(target, start) || isEqual(target, start)) &&\n    (isBefore(target, end) || isEqual(target, end))\n  );\n}\n\n/**\n * Format a pay period for display\n */\nexport function formatPayPeriod(payPeriod: PayPeriod): string {\n  return `${format(payPeriod.startDate, \"MMM d\")} - ${format(payPeriod.endDate, \"MMM d, yyyy\")}`;\n}\n\n/**\n * Get bills due in a specific pay period based on their due day\n */\nexport function getDueDatesInPeriod(\n  dueDay: number,\n  payPeriod: PayPeriod\n): Date[] {\n  const dates: Date[] = [];\n  let currentDate = new Date(payPeriod.startDate);\n\n  while (\n    isBefore(currentDate, payPeriod.endDate) ||\n    isEqual(currentDate, payPeriod.endDate)\n  ) {\n    if (currentDate.getDate() === dueDay) {\n      dates.push(new Date(currentDate));\n    }\n    currentDate = addDays(currentDate, 1);\n  }\n\n  return dates;\n}\n","import { useState, type ReactNode } from \"react\";\nimport { ChevronDown } from \"lucide-react\";\n\ninterface SectionCardProps {\n  title: string;\n  subtitle?: string;\n  children: ReactNode;\n  defaultOpen?: boolean;\n  collapsible?: boolean;\n  action?: ReactNode;\n}\n\nexport function SectionCard({\n  title,\n  subtitle,\n  children,\n  defaultOpen = true,\n  collapsible = true,\n  action,\n}: SectionCardProps) {\n  const [isOpen, setIsOpen] = useState(defaultOpen);\n\n  return (\n    <div className=\"bg-theme-elevated rounded-2xl shadow-theme border border-theme overflow-hidden\">\n      <div\n        className={`\n          flex items-center justify-between px-5 py-4\n          ${collapsible ? \"cursor-pointer hover:bg-theme-secondary/30 transition-colors\" : \"\"}\n        `}\n        onClick={collapsible ? () => setIsOpen(!isOpen) : undefined}\n      >\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center gap-3\">\n            <h3 className=\"font-semibold text-theme-primary\">{title}</h3>\n            {subtitle && (\n              <span className=\"text-xs text-theme-muted bg-theme-secondary px-2 py-0.5 rounded-full\">\n                {subtitle}\n              </span>\n            )}\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          {action && <div onClick={(e) => e.stopPropagation()}>{action}</div>}\n          {collapsible && (\n            <ChevronDown\n              className={`h-5 w-5 text-theme-muted transition-transform duration-200 ${\n                isOpen ? \"rotate-180\" : \"\"\n              }`}\n            />\n          )}\n        </div>\n      </div>\n\n      {isOpen && <div className=\"px-5 pb-5\">{children}</div>}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}