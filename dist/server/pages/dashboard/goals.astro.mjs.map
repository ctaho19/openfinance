{"version":3,"file":"goals.astro.mjs","sources":["../../../../src/pages/dashboard/goals/index.astro"],"sourcesContent":["---\nimport DashboardLayout from '../../../layouts/DashboardLayout.astro';\nimport { SectionCard } from '../../../components/ui/section-card';\nimport { getSession } from '../../../lib/get-session-astro';\nimport { listGoals } from '../../../lib/services/goals';\nimport { Plus, Target, PiggyBank } from 'lucide-react';\n\nconst session = await getSession(Astro.request);\nif (!session?.user?.id) {\n  return Astro.redirect('/login');\n}\n\nconst goals = await listGoals(session.user.id);\n---\n<DashboardLayout title=\"Goals\" currentPath=\"/dashboard/goals\" user={session.user} showExploreSidebar={false}>\n  <div class=\"space-y-6\">\n    <header class=\"flex items-center justify-between\">\n      <div>\n        <h1 class=\"text-2xl font-bold text-theme-primary\">Savings Goals</h1>\n        <p class=\"text-theme-secondary mt-1\">{goals.length} goal{goals.length !== 1 ? 's' : ''}</p>\n      </div>\n      <a \n        href=\"/dashboard/goals/new\"\n        class=\"inline-flex items-center gap-2 px-4 py-2 bg-accent-600 hover:bg-accent-700 text-white rounded-xl font-medium transition-colors\"\n      >\n        <Plus class=\"h-4 w-4\" />\n        Add Goal\n      </a>\n    </header>\n\n    {goals.length === 0 ? (\n      <div class=\"bg-theme-elevated rounded-2xl border border-theme p-12 text-center\">\n        <div class=\"w-16 h-16 rounded-full bg-accent-50 dark:bg-accent-600/20 flex items-center justify-center mx-auto mb-4\">\n          <Target class=\"h-8 w-8 text-accent-600\" />\n        </div>\n        <h2 class=\"text-xl font-semibold text-theme-primary mb-2\">No goals yet</h2>\n        <p class=\"text-theme-secondary mb-6\">Set savings goals to track your progress.</p>\n        <a \n          href=\"/dashboard/goals/new\"\n          class=\"inline-flex items-center gap-2 px-6 py-3 bg-accent-600 hover:bg-accent-700 text-white rounded-xl font-medium transition-colors\"\n        >\n          <Plus class=\"h-5 w-5\" />\n          Create Your First Goal\n        </a>\n      </div>\n    ) : (\n      <div class=\"grid gap-4 md:grid-cols-2\">\n        {goals.map((goal) => {\n          const progress = Number(goal.targetAmount) > 0 \n            ? (Number(goal.currentAmount) / Number(goal.targetAmount)) * 100 \n            : 0;\n          return (\n            <div class=\"bg-theme-elevated rounded-2xl border border-theme p-5 card-hover-lift\">\n              <div class=\"flex items-start justify-between mb-4\">\n                <div class=\"flex items-center gap-3\">\n                  <div class=\"p-2 rounded-xl bg-accent-50 dark:bg-accent-600/20\">\n                    <PiggyBank class=\"h-5 w-5 text-accent-600\" />\n                  </div>\n                  <div>\n                    <h3 class=\"font-semibold text-theme-primary\">{goal.name}</h3>\n                    {goal.deadline && (\n                      <p class=\"text-xs text-theme-muted\">\n                        Due {new Date(goal.deadline).toLocaleDateString()}\n                      </p>\n                    )}\n                  </div>\n                </div>\n              </div>\n              <div class=\"space-y-2\">\n                <div class=\"flex justify-between text-sm\">\n                  <span class=\"text-theme-secondary\">\n                    ${Number(goal.currentAmount).toLocaleString()}\n                  </span>\n                  <span class=\"font-medium text-theme-primary\">\n                    ${Number(goal.targetAmount).toLocaleString()}\n                  </span>\n                </div>\n                <div class=\"progress-bar\">\n                  <div class=\"progress-bar-fill\" style={`width: ${Math.min(progress, 100)}%`}></div>\n                </div>\n                <p class=\"text-xs text-theme-muted text-right\">\n                  {progress.toFixed(0)}% complete\n                </p>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    )}\n  </div>\n</DashboardLayout>\n"],"names":["$$createAstro","$$createComponent","Astro","$$render","$$renderComponent","DashboardLayout","$$result","$$maybeRenderHead","$$addAttribute"],"mappings":";;;;;;;;AAAA,MAAA,UAAAA,WAAA,EAAA;AAAA,MAAA,OAAA,GAAAC,eAAA,CAAA,OAAA,QAAA,EAAA,SAAA,OAAA,KAAA;AAAA,EAAA,MAAAC,MAAAA,GAAA,QAAA,CAAA,WAAA,CAAA,OAAA,EAAA,SAAA,OAAA,CAAA;AAAA,EAAAA,OAAA,IAAA,GAAA,OAAA;AAOA,EAAA,MAAM,OAAA,GAAU,MAAM,UAAA,CAAWA,MAAAA,CAAM,OAAO,CAAA;AAC9C,EAAA,IAAI,CAAC,OAAA,EAAS,IAAA,EAAM,EAAA,EAAI;AACtB,IAAA,OAAOA,MAAAA,CAAM,SAAS,QAAQ,CAAA;AAChC,EAAA;AAEA,EAAA,MAAM,KAAA,GAAQ,MAAM,SAAA,CAAU,OAAA,CAAQ,KAAK,EAAE,CAAA;AAZ7C,EAAA,OAAAC,iBAAAC,eAAA,CAAA,QAAA,EAAA,mBAAAC,iBAAA,EAAA,EAciB,SAAO,OAAA,EAAO,aAAA,EAAa,oBAAkB,MAAA,EAAM,OAAA,CAAA,MAAc,oBAAA,EAdlF,KAAA,IAAA,EAAA,SAAA,EAAA,OAAAC,SAAAA,KAAAH,cAAA,CAAA,CAAA,EAAAI,eAAA,CAAA,CAAA,CAAA,2LAAA,EAmB8C,KAAA,CAAM,MAAM,CAAA,KAAA,EAAO,KAAA,CAAM,WAAW,CAAA,GAAI,GAAA,GAAM,EAAE,CAAA,mLAAA,EAnB9FH,eAAA,CAAAE,WAAA,MAAA,EAAA,IAAA,EAAA,EAyBc,OAAA,EAAO,SAAA,EAAZ,CAAA;;iBAKJ,KAAA,CAAM,MAAA,KAAW,IA9BtBH,cAAA,CAAA,uMAAA,EAAAC,eAAA,CAAAE,WAAA,QAAA,EAAA,MAAA,EAAA,EAiCkB,OAAA,EAAO,yBAAA,EAAd,CAAA,CAAA,8UAAA,EAjCXF,gBAAAE,SAAAA,EAAA,MAAA,EAAA,MAAA,EAyCgB,OAAA,EAAO,SAAA,EAAZ,CAAA;;eAzCXH,cAAA,CAAA,wCAAA,EA+CS,KAAA,CAAM,GAAA,CAAI,CAAC,IAAA,KAAS;AACnB,IAAA,MAAM,QAAA,GAAW,MAAA,CAAO,IAAA,CAAK,YAAY,IAAI,CAAA,GACxC,MAAA,CAAO,IAAA,CAAK,aAAa,CAAA,GAAI,MAAA,CAAO,IAAA,CAAK,YAAY,IAAK,GAAA,GAC3D,CAAA;AACJ,IAAA,OAnDVA,cAAA,CAAA,8OAAA,EAAAC,eAAA,CAAAE,SAAAA,EAAA,WAAA,EAAA,WAAA,EAwD+B,OAAA,EAAO,yBAAA,EAAjB,CAAA,CAAA,2DAAA,EAG6C,IAAA,CAAK,IAAI,CAAA,MAAA,EACtD,KAAK,QAAA,IA5D1BH,cAAA,CAAA;AA8D6B,IAAA,EAAA,IAAI,KAAK,IAAA,CAAK,QAAQ,CAAA,CAAE,kBAAA,EAAoB,CAAA,KAAA,CAEpD,CAAA;AAOC,CAAA,EAAA,MAAA,CAAO,IAAA,CAAK,aAAa,CAAA,CAAE,cAAA,EAAgB,CAAA;GAG3C,MAAA,CAAO,IAAA,CAAK,YAAY,CAAA,CAAE,cAAA,EAAgB,CAAA,yEAAA,EA1EhEK,YAAA,CA8EwD,UAAU,IAAA,CAAK,GAAA,CAAI,UAAU,GAAG,CAAC,KA9EzF,OAAA,CAAA,kEAiFmB,QAAA,CAAS,OAAA,CAAQ,CAAC,CAAC,CAAA;;AAK9B,EAAA,CAAC,CAAC,CAAA,OAAA,CAEL,CAAA,QAAA,CAAA,EAxFL,CAAA,CAAA,CAAA;AAAA,CAAA,EAAA,+EAAA,MAAA,CAAA;;;;;;;;;;;;;;;;"}