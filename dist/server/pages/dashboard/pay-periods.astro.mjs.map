{"version":3,"file":"pay-periods.astro.mjs","sources":["../../../../src/components/pay-periods/PeriodSelector.tsx","../../../../src/components/pay-periods/AllocationChart.tsx","../../../../src/components/pay-periods/AnnualForecast.tsx","../../../../src/pages/dashboard/pay-periods/index.astro"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\n\nexport type PeriodType = \"previous\" | \"current\" | \"next\";\n\ninterface PeriodSelectorProps {\n  currentPeriodLabel: string;\n  previousPeriodLabel: string;\n  nextPeriodLabel: string;\n  defaultPeriod?: PeriodType;\n  onPeriodChange?: (period: PeriodType) => void;\n}\n\nexport function PeriodSelector({\n  currentPeriodLabel,\n  previousPeriodLabel,\n  nextPeriodLabel,\n  defaultPeriod = \"current\",\n  onPeriodChange,\n}: PeriodSelectorProps) {\n  const [activePeriod, setActivePeriod] = useState<PeriodType>(defaultPeriod);\n\n  const periods: { key: PeriodType; label: string }[] = [\n    { key: \"previous\", label: \"Previous\" },\n    { key: \"current\", label: \"Current\" },\n    { key: \"next\", label: \"Next\" },\n  ];\n\n  const handlePeriodChange = (period: PeriodType) => {\n    setActivePeriod(period);\n    onPeriodChange?.(period);\n\n    const params = new URLSearchParams(window.location.search);\n    if (period === \"current\") {\n      params.delete(\"period\");\n    } else {\n      params.set(\"period\", period);\n    }\n    const newUrl =\n      window.location.pathname + (params.toString() ? `?${params}` : \"\");\n    window.history.pushState({}, \"\", newUrl);\n    window.location.reload();\n  };\n\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    const period = params.get(\"period\") as PeriodType | null;\n    if (period && [\"previous\", \"current\", \"next\"].includes(period)) {\n      setActivePeriod(period);\n    }\n  }, []);\n\n  const periodLabels: Record<PeriodType, string> = {\n    previous: previousPeriodLabel,\n    current: currentPeriodLabel,\n    next: nextPeriodLabel,\n  };\n\n  return (\n    <div className=\"space-y-3\">\n      <div className=\"flex items-center justify-between\">\n        <button\n          onClick={() =>\n            handlePeriodChange(\n              activePeriod === \"next\"\n                ? \"current\"\n                : activePeriod === \"current\"\n                  ? \"previous\"\n                  : \"previous\"\n            )\n          }\n          disabled={activePeriod === \"previous\"}\n          className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-30 disabled:cursor-not-allowed transition-colors\"\n        >\n          <ChevronLeft className=\"h-5 w-5 text-gray-600 dark:text-gray-400\" />\n        </button>\n\n        <div className=\"flex items-center gap-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1\">\n          {periods.map((period) => (\n            <button\n              key={period.key}\n              onClick={() => handlePeriodChange(period.key)}\n              className={`\n                px-4 py-2 text-sm font-medium rounded-md transition-all duration-200\n                ${\n                  activePeriod === period.key\n                    ? \"bg-white dark:bg-[#1c2128] text-gray-900 dark:text-gray-100 shadow-sm\"\n                    : \"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100\"\n                }\n              `}\n            >\n              {period.label}\n            </button>\n          ))}\n        </div>\n\n        <button\n          onClick={() =>\n            handlePeriodChange(\n              activePeriod === \"previous\"\n                ? \"current\"\n                : activePeriod === \"current\"\n                  ? \"next\"\n                  : \"next\"\n            )\n          }\n          disabled={activePeriod === \"next\"}\n          className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-30 disabled:cursor-not-allowed transition-colors\"\n        >\n          <ChevronRight className=\"h-5 w-5 text-gray-600 dark:text-gray-400\" />\n        </button>\n      </div>\n\n      <p className=\"text-center text-sm text-gray-500 dark:text-gray-400\">\n        {periodLabels[activePeriod]}\n      </p>\n    </div>\n  );\n}\n","interface AllocationItem {\n  label: string;\n  amount: number;\n  color: string;\n  percentage: number;\n}\n\ninterface AllocationChartProps {\n  items: AllocationItem[];\n  total: number;\n}\n\nexport function AllocationChart({ items, total }: AllocationChartProps) {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"h-4 rounded-full overflow-hidden bg-gray-100 dark:bg-gray-800 flex\">\n        {items.map((item, index) => (\n          <div\n            key={index}\n            className={`${item.color} transition-all duration-500`}\n            style={{ width: `${Math.max(item.percentage, 0)}%` }}\n          />\n        ))}\n      </div>\n\n      <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-3\">\n        {items.map((item, index) => (\n          <div key={index} className=\"flex items-center gap-2\">\n            <div className={`w-3 h-3 rounded-full ${item.color}`} />\n            <div className=\"min-w-0\">\n              <p className=\"text-xs text-gray-500 dark:text-gray-400 truncate\">\n                {item.label}\n              </p>\n              <p className=\"text-sm font-semibold text-gray-900 dark:text-gray-100\">\n                ${item.amount.toLocaleString(undefined, { minimumFractionDigits: 2 })}\n              </p>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\ninterface DonutChartProps {\n  items: AllocationItem[];\n  centerLabel?: string;\n  centerValue?: string;\n}\n\nexport function DonutChart({ items, centerLabel, centerValue }: DonutChartProps) {\n  const radius = 80;\n  const strokeWidth = 24;\n  const normalizedRadius = radius - strokeWidth / 2;\n  const circumference = normalizedRadius * 2 * Math.PI;\n\n  let currentOffset = 0;\n\n  const colorMap: Record<string, string> = {\n    \"bg-blue-500\": \"#3b82f6\",\n    \"bg-emerald-500\": \"#10b981\",\n    \"bg-amber-500\": \"#f59e0b\",\n    \"bg-purple-500\": \"#a855f7\",\n    \"bg-gray-300 dark:bg-gray-600\": \"#9ca3af\",\n  };\n\n  return (\n    <div className=\"relative inline-flex items-center justify-center\">\n      <svg height={radius * 2} width={radius * 2} className=\"-rotate-90\">\n        {items.map((item, index) => {\n          const strokeDasharray = `${(item.percentage / 100) * circumference} ${circumference}`;\n          const offset = currentOffset;\n          currentOffset += (item.percentage / 100) * circumference;\n\n          return (\n            <circle\n              key={index}\n              stroke={colorMap[item.color] || \"#e5e7eb\"}\n              fill=\"transparent\"\n              strokeWidth={strokeWidth}\n              strokeDasharray={strokeDasharray}\n              strokeDashoffset={-offset}\n              r={normalizedRadius}\n              cx={radius}\n              cy={radius}\n              className=\"transition-all duration-500\"\n            />\n          );\n        })}\n      </svg>\n      {centerLabel && centerValue && (\n        <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\n          <p className=\"text-xs text-gray-500 dark:text-gray-400\">{centerLabel}</p>\n          <p className=\"text-lg font-bold text-gray-900 dark:text-gray-100\">\n            {centerValue}\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}\n","import { useState, useMemo } from \"react\";\nimport { Calendar, ChevronDown, ChevronUp, TrendingUp, DollarSign, AlertTriangle, Building2, ChevronRight } from \"lucide-react\";\nimport { format } from \"date-fns\";\nimport { BankBadge } from \"@/components/banks/bank-badge\";\n\ninterface BankAllocation {\n  accountId: string | null;\n  accountName: string;\n  bank: string;\n  lastFour: string | null;\n  total: number;\n  bills: Array<{ name: string; amount: number; dueDate: string }>;\n}\n\ninterface ForecastPeriod {\n  period: {\n    startDate: string;\n    endDate: string;\n    paycheckDate: string;\n  };\n  totalBills: number;\n  projectedBalance: number;\n  paymentCount: number;\n  allocations?: BankAllocation[];\n}\n\ninterface AnnualForecastProps {\n  forecastData: ForecastPeriod[];\n  paycheckAmount: number;\n}\n\nexport function AnnualForecast({ forecastData, paycheckAmount }: AnnualForecastProps) {\n  const [visibleCount, setVisibleCount] = useState(3);\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const visiblePeriods = useMemo(() => {\n    return forecastData.slice(0, visibleCount);\n  }, [forecastData, visibleCount]);\n\n  const stats = useMemo(() => {\n    const totalBillsAmount = forecastData.reduce((sum, f) => sum + f.totalBills, 0);\n    const totalBillCount = forecastData.reduce((sum, f) => sum + f.paymentCount, 0);\n    const avgPerPeriod = forecastData.length > 0 ? totalBillsAmount / forecastData.length : 0;\n    \n    const monthlyTotals = new Map<string, number>();\n    forecastData.forEach((f) => {\n      const month = format(new Date(f.period.startDate), \"MMM yyyy\");\n      monthlyTotals.set(month, (monthlyTotals.get(month) || 0) + f.totalBills);\n    });\n\n    let highestMonth = \"\";\n    let highestAmount = 0;\n    monthlyTotals.forEach((amount, month) => {\n      if (amount > highestAmount) {\n        highestAmount = amount;\n        highestMonth = month;\n      }\n    });\n\n    const periodsWithDeficit = forecastData.filter((f) => f.projectedBalance < 0).length;\n\n    return {\n      totalBillsAmount,\n      totalBillCount,\n      avgPerPeriod,\n      highestMonth,\n      highestAmount,\n      periodsWithDeficit,\n    };\n  }, [forecastData]);\n\n  const handleShowMore = () => {\n    setVisibleCount((prev) => Math.min(prev + 6, forecastData.length));\n  };\n\n  const handleShowLess = () => {\n    setVisibleCount(3);\n    setIsExpanded(false);\n  };\n\n  const toggleExpanded = () => {\n    if (isExpanded) {\n      setVisibleCount(3);\n    } else {\n      setVisibleCount(forecastData.length);\n    }\n    setIsExpanded(!isExpanded);\n  };\n\n  return (\n    <div className=\"bg-white dark:bg-[#1c2128] rounded-xl border border-gray-200 dark:border-[#30363d] overflow-hidden\">\n      <div\n        className=\"flex items-center justify-between px-5 py-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-[#21262d] transition-colors\"\n        onClick={toggleExpanded}\n      >\n        <div className=\"flex items-center gap-3 min-w-0\">\n          <div className=\"w-10 h-10 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center\">\n            <TrendingUp className=\"h-5 w-5 text-purple-600 dark:text-purple-400\" />\n          </div>\n          <div>\n            <h3 className=\"font-semibold text-gray-900 dark:text-gray-100\">\n              Annual Forecast\n            </h3>\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n              Next {forecastData.length} pay periods ({Math.round(forecastData.length / 2)} months)\n            </p>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <span className=\"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded-full\">\n            ${stats.totalBillsAmount.toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 0 })} total\n          </span>\n          <ChevronDown\n            className={`h-5 w-5 text-gray-400 transition-transform duration-200 ${\n              isExpanded ? \"rotate-180\" : \"\"\n            }`}\n          />\n        </div>\n      </div>\n\n      {isExpanded && (\n        <div className=\"px-5 pb-5\">\n          <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-3 mb-5\">\n            <div className=\"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3\">\n              <div className=\"flex items-center gap-2 mb-1\">\n                <DollarSign className=\"h-4 w-4 text-gray-400\" />\n                <p className=\"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide\">\n                  Total Bills\n                </p>\n              </div>\n              <p className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\n                ${stats.totalBillsAmount.toLocaleString(undefined, { minimumFractionDigits: 2 })}\n              </p>\n              <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                {stats.totalBillCount} payments\n              </p>\n            </div>\n\n            <div className=\"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3\">\n              <div className=\"flex items-center gap-2 mb-1\">\n                <Calendar className=\"h-4 w-4 text-gray-400\" />\n                <p className=\"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide\">\n                  Avg/Period\n                </p>\n              </div>\n              <p className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\n                ${stats.avgPerPeriod.toLocaleString(undefined, { minimumFractionDigits: 2 })}\n              </p>\n              <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                per pay period\n              </p>\n            </div>\n\n            <div className=\"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3\">\n              <div className=\"flex items-center gap-2 mb-1\">\n                <TrendingUp className=\"h-4 w-4 text-gray-400\" />\n                <p className=\"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide\">\n                  Highest Month\n                </p>\n              </div>\n              <p className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\n                {stats.highestMonth || \"N/A\"}\n              </p>\n              <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                ${stats.highestAmount.toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 0 })} in bills\n              </p>\n            </div>\n\n            <div className=\"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3\">\n              <div className=\"flex items-center gap-2 mb-1\">\n                <AlertTriangle className=\"h-4 w-4 text-gray-400\" />\n                <p className=\"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide\">\n                  Tight Periods\n                </p>\n              </div>\n              <p className={`text-lg font-semibold ${\n                stats.periodsWithDeficit > 0 \n                  ? \"text-red-600 dark:text-red-400\" \n                  : \"text-emerald-600 dark:text-emerald-400\"\n              }`}>\n                {stats.periodsWithDeficit}\n              </p>\n              <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                projected deficit\n              </p>\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            {visiblePeriods.map((forecast, index) => (\n              <ForecastRow \n                key={index} \n                forecast={forecast} \n                paycheckAmount={paycheckAmount}\n                index={index}\n              />\n            ))}\n          </div>\n\n          {forecastData.length > 3 && (\n            <div className=\"flex items-center justify-center gap-3 mt-4 pt-4 border-t border-gray-100 dark:border-gray-800\">\n              {visibleCount < forecastData.length && (\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleShowMore();\n                  }}\n                  className=\"flex items-center gap-2 px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors\"\n                >\n                  <ChevronDown className=\"h-4 w-4\" />\n                  Show More ({forecastData.length - visibleCount} remaining)\n                </button>\n              )}\n              {visibleCount > 3 && (\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleShowLess();\n                  }}\n                  className=\"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors\"\n                >\n                  <ChevronUp className=\"h-4 w-4\" />\n                  Show Less\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n\n      {!isExpanded && (\n        <div className=\"px-5 pb-5\">\n          <div className=\"space-y-2\">\n            {visiblePeriods.slice(0, 3).map((forecast, index) => (\n              <ForecastRow \n                key={index} \n                forecast={forecast} \n                paycheckAmount={paycheckAmount}\n                index={index}\n                compact\n              />\n            ))}\n          </div>\n          {forecastData.length > 3 && (\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                toggleExpanded();\n              }}\n              className=\"w-full mt-3 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors flex items-center justify-center gap-2\"\n            >\n              <ChevronDown className=\"h-4 w-4\" />\n              View Full Year Forecast ({forecastData.length - 3} more periods)\n            </button>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\ninterface ForecastRowProps {\n  forecast: ForecastPeriod;\n  paycheckAmount: number;\n  index: number;\n  compact?: boolean;\n}\n\nfunction ForecastRow({ forecast, paycheckAmount, index, compact }: ForecastRowProps) {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const startDate = new Date(forecast.period.startDate);\n  const endDate = new Date(forecast.period.endDate);\n  const utilizationPercent = paycheckAmount > 0 \n    ? Math.min((forecast.totalBills / paycheckAmount) * 100, 100) \n    : 0;\n\n  const getUtilizationColor = (percent: number) => {\n    if (percent >= 90) return \"bg-red-500\";\n    if (percent >= 70) return \"bg-amber-500\";\n    return \"bg-emerald-500\";\n  };\n\n  const hasAllocations = forecast.allocations && forecast.allocations.length > 0;\n\n  return (\n    <div className=\"rounded-lg overflow-hidden\">\n      <div \n        className={`flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 ${\n          compact ? \"\" : \"hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\"\n        } ${hasAllocations && !compact ? \"cursor-pointer\" : \"\"}`}\n        onClick={() => hasAllocations && !compact && setIsExpanded(!isExpanded)}\n      >\n        <div className=\"flex items-center gap-3 flex-1 min-w-0\">\n          {hasAllocations && !compact ? (\n            <div className=\"w-8 h-8 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0\">\n              <ChevronRight className={`h-4 w-4 text-blue-600 dark:text-blue-400 transition-transform ${isExpanded ? \"rotate-90\" : \"\"}`} />\n            </div>\n          ) : (\n            <div className=\"w-8 h-8 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0\">\n              <span className=\"text-xs font-semibold text-blue-600 dark:text-blue-400\">\n                {index + 1}\n              </span>\n            </div>\n          )}\n          <div className=\"min-w-0 flex-1\">\n            <p className=\"font-medium text-gray-900 dark:text-gray-100 truncate\">\n              {format(startDate, \"MMM d\")} - {format(endDate, \"MMM d\")}\n            </p>\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n              {forecast.paymentCount} {forecast.paymentCount === 1 ? \"bill\" : \"bills\"} · ${forecast.totalBills.toLocaleString(undefined, { minimumFractionDigits: 2 })}\n            </p>\n          </div>\n        </div>\n        \n        <div className=\"flex items-center gap-4 flex-shrink-0\">\n          {!compact && (\n            <div className=\"hidden sm:block w-24\">\n              <div className=\"h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden\">\n                <div \n                  className={`h-full ${getUtilizationColor(utilizationPercent)} rounded-full transition-all`}\n                  style={{ width: `${utilizationPercent}%` }}\n                />\n              </div>\n              <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1 text-center\">\n                {utilizationPercent.toFixed(0)}% used\n              </p>\n            </div>\n          )}\n          <div className=\"text-right\">\n            <p className=\"text-xs text-gray-500 dark:text-gray-400\">Balance</p>\n            <p className={`font-semibold ${\n              forecast.projectedBalance >= 0 \n                ? \"text-emerald-600 dark:text-emerald-400\" \n                : \"text-red-600 dark:text-red-400\"\n            }`}>\n              ${forecast.projectedBalance.toLocaleString(undefined, { minimumFractionDigits: 2 })}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {isExpanded && hasAllocations && (\n        <div className=\"bg-gray-100 dark:bg-gray-800/30 px-3 pb-3 space-y-2\">\n          <p className=\"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide pt-2 px-2\">\n            Bank Allocations\n          </p>\n          {forecast.allocations!.map((allocation, allocIdx) => (\n            <AllocationCard key={allocation.accountId || `unassigned-${allocIdx}`} allocation={allocation} />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction AllocationCard({ allocation }: { allocation: BankAllocation }) {\n  const [showBills, setShowBills] = useState(false);\n  \n  return (\n    <div className=\"bg-white dark:bg-[#1c2128] rounded-lg border border-gray-200 dark:border-[#30363d] overflow-hidden\">\n      <div \n        className=\"flex items-center justify-between p-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-[#21262d] transition-colors\"\n        onClick={() => setShowBills(!showBills)}\n      >\n        <div className=\"flex items-center gap-3\">\n          <BankBadge bank={allocation.bank} size=\"sm\" />\n          <div>\n            <p className=\"font-medium text-gray-900 dark:text-gray-100 text-sm\">\n              {allocation.accountName}\n            </p>\n            <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n              {allocation.bills.length} {allocation.bills.length === 1 ? \"bill\" : \"bills\"}\n              {allocation.lastFour && ` · •••• ${allocation.lastFour}`}\n            </p>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <p className=\"font-semibold text-gray-900 dark:text-gray-100\">\n            ${allocation.total.toLocaleString(undefined, { minimumFractionDigits: 2 })}\n          </p>\n          <ChevronDown className={`h-4 w-4 text-gray-400 transition-transform ${showBills ? \"rotate-180\" : \"\"}`} />\n        </div>\n      </div>\n      \n      {showBills && (\n        <div className=\"border-t border-gray-100 dark:border-gray-800 px-3 pb-2\">\n          {allocation.bills.map((bill, billIdx) => (\n            <div key={billIdx} className=\"flex items-center justify-between py-2 text-sm\">\n              <div>\n                <p className=\"text-gray-900 dark:text-gray-100\">{bill.name}</p>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">{bill.dueDate}</p>\n              </div>\n              <p className=\"text-gray-700 dark:text-gray-300\">\n                ${bill.amount.toLocaleString(undefined, { minimumFractionDigits: 2 })}\n              </p>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n","---\nimport DashboardLayout from '../../../layouts/DashboardLayout.astro';\nimport { SectionCard } from '../../../components/ui/section-card';\nimport { PeriodSelector } from '../../../components/pay-periods/PeriodSelector';\nimport { AllocationChart, DonutChart } from '../../../components/pay-periods/AllocationChart';\nimport { BankAccountAllocationCard } from '../../../components/ui/bank-account-card';\nimport { AnnualForecast } from '../../../components/pay-periods/AnnualForecast';\nimport { getSession } from '../../../lib/get-session-astro';\nimport { \n  getCurrentPayPeriod, \n  getNextPayPeriod, \n  getPreviousPayPeriod,\n  getPayPeriods,\n  formatPayPeriod, \n  getPaymentsForPeriod,\n  getLenderNameFromPayment,\n} from '../../../lib/services/pay-periods';\nimport { prisma } from '../../../lib/db';\nimport { startOfDay, endOfDay, differenceInDays, isToday, isTomorrow, format, addDays } from 'date-fns';\nimport { Calendar, CheckCircle2, Circle, TrendingUp, Wallet, PiggyBank, CreditCard, Building2 } from 'lucide-react';\n\nconst session = await getSession(Astro.request);\nif (!session?.user?.id) {\n  return Astro.redirect('/login');\n}\n\nconst periodParam = Astro.url.searchParams.get('period') as 'previous' | 'current' | 'next' | null;\n\nconst currentPeriod = getCurrentPayPeriod();\nconst previousPeriod = getPreviousPayPeriod();\nconst nextPeriod = getNextPayPeriod();\n\nconst selectedPeriod = periodParam === 'previous' ? previousPeriod \n  : periodParam === 'next' ? nextPeriod \n  : currentPeriod;\n\nconst periodStart = startOfDay(selectedPeriod.startDate);\nconst periodEnd = endOfDay(selectedPeriod.endDate);\n\nconst [payments, user, bankAccounts] = await Promise.all([\n  getPaymentsForPeriod(session.user.id, periodStart, periodEnd),\n  prisma.user.findUnique({\n    where: { id: session.user.id },\n    select: { paycheckAmount: true },\n  }),\n  prisma.bankAccount.findMany({\n    where: { userId: session.user.id },\n    orderBy: { createdAt: 'asc' },\n  }),\n]);\n\nconst paycheckAmount = user?.paycheckAmount ? Number(user.paycheckAmount) : 0;\n\nconst paidPayments = payments.filter(p => p.status === 'PAID');\nconst unpaidPayments = payments.filter(p => p.status === 'UNPAID');\n\nconst totalDue = payments.reduce((sum, p) => sum + Number(p.amount), 0);\nconst totalPaid = paidPayments.reduce((sum, p) => sum + Number(p.amount), 0);\nconst totalRemaining = totalDue - totalPaid;\n\nconst safeToSpend = paycheckAmount - totalDue;\nconst discretionary = Math.max(0, safeToSpend);\n\nconst allocationItems = [\n  { \n    label: 'Bills Due', \n    amount: totalDue, \n    color: 'bg-blue-500', \n    percentage: paycheckAmount > 0 ? (totalDue / paycheckAmount) * 100 : 0 \n  },\n  { \n    label: 'Safe to Spend', \n    amount: discretionary, \n    color: 'bg-emerald-500', \n    percentage: paycheckAmount > 0 ? (discretionary / paycheckAmount) * 100 : 0 \n  },\n];\n\nconst futurePeriods = getPayPeriods(addDays(currentPeriod.endDate, 1), 26, 'forward');\n\nconst forecastData = await Promise.all(\n  futurePeriods.map(async (period) => {\n    const periodPayments = await getPaymentsForPeriod(\n      session.user.id, \n      startOfDay(period.startDate), \n      endOfDay(period.endDate)\n    );\n    const totalBills = periodPayments.reduce((sum, p) => sum + Number(p.amount), 0);\n    const projectedBalance = paycheckAmount - totalBills;\n    \n    // Group payments by bank account for this period\n    const accountMap = new Map<string | null, typeof periodPayments>();\n    periodPayments.forEach((payment) => {\n      const bankId = payment.bill.bankAccountId;\n      if (!accountMap.has(bankId)) {\n        accountMap.set(bankId, []);\n      }\n      accountMap.get(bankId)!.push(payment);\n    });\n\n    const allocations: Array<{\n      accountId: string | null;\n      accountName: string;\n      bank: string;\n      lastFour: string | null;\n      total: number;\n      bills: Array<{ name: string; amount: number; dueDate: string }>;\n    }> = [];\n\n    accountMap.forEach((accountPayments, bankId) => {\n      const account = bankId ? bankAccounts.find(a => a.id === bankId) : null;\n      const bills = accountPayments.map(p => ({\n        name: p.bill.name,\n        amount: Number(p.amount),\n        dueDate: format(p.dueDate, 'MMM d'),\n      }));\n      const total = bills.reduce((sum, b) => sum + b.amount, 0);\n      allocations.push({\n        accountId: bankId,\n        accountName: account?.name || 'Unassigned',\n        bank: account?.bank || 'OTHER',\n        lastFour: account?.lastFour || null,\n        total,\n        bills,\n      });\n    });\n\n    // Sort: accounts with assigned banks first, then unassigned\n    allocations.sort((a, b) => {\n      if (a.accountId && !b.accountId) return -1;\n      if (!a.accountId && b.accountId) return 1;\n      return b.total - a.total;\n    });\n\n    return {\n      period: {\n        startDate: period.startDate.toISOString(),\n        endDate: period.endDate.toISOString(),\n        paycheckDate: period.paycheckDate.toISOString(),\n      },\n      totalBills,\n      projectedBalance,\n      paymentCount: periodPayments.length,\n      allocations,\n    };\n  })\n);\n\nconst isPastPeriod = periodParam === 'previous';\nconst isFuturePeriod = periodParam === 'next';\nconst isCurrentPeriod = !periodParam || periodParam === 'current';\n\n// Group payments by bank account for allocation view\ntype BankAllocation = {\n  account: typeof bankAccounts[0] | null;\n  bills: Array<{ name: string; amount: number; dueDate: string }>;\n  total: number;\n};\n\nconst bankAllocations: BankAllocation[] = [];\n\n// Group by bank account\nconst accountMap = new Map<string | null, typeof unpaidPayments>();\nunpaidPayments.forEach((payment) => {\n  const bankId = payment.bill.bankAccountId;\n  if (!accountMap.has(bankId)) {\n    accountMap.set(bankId, []);\n  }\n  accountMap.get(bankId)!.push(payment);\n});\n\n// Build allocation objects\naccountMap.forEach((accountPayments, bankId) => {\n  const account = bankId ? bankAccounts.find(a => a.id === bankId) || null : null;\n  const bills = accountPayments.map(p => ({\n    name: p.bill.name,\n    amount: Number(p.amount),\n    dueDate: format(p.dueDate, 'MMM d'),\n  }));\n  const total = bills.reduce((sum, b) => sum + b.amount, 0);\n  bankAllocations.push({ account, bills, total });\n});\n\n// Sort: accounts with assigned banks first, then unassigned\nbankAllocations.sort((a, b) => {\n  if (a.account && !b.account) return -1;\n  if (!a.account && b.account) return 1;\n  return b.total - a.total;\n});\n\n// Group BNPL payments by lender for transfer amounts\ntype LenderAllocation = {\n  lenderName: string;\n  total: number;\n  bills: Array<{ name: string; amount: number; dueDate: string }>;\n};\n\nconst bnplPayments = unpaidPayments.filter(\n  (p) => p.bill.category === 'BNPL' || p.bill.debt?.type === 'BNPL'\n);\n\nconst lenderMap = new Map<string, typeof bnplPayments>();\nbnplPayments.forEach((payment) => {\n  const lenderName = getLenderNameFromPayment(payment);\n  if (!lenderMap.has(lenderName)) lenderMap.set(lenderName, []);\n  lenderMap.get(lenderName)!.push(payment);\n});\n\nconst lenderAllocations: LenderAllocation[] = [];\nlenderMap.forEach((payments, lenderName) => {\n  const bills = payments.map((p) => ({\n    name: p.bill.name,\n    amount: Number(p.amount),\n    dueDate: format(p.dueDate, 'MMM d'),\n  }));\n  const total = bills.reduce((sum, b) => sum + b.amount, 0);\n  lenderAllocations.push({ lenderName, total, bills });\n});\n\n// Sort by largest lender total first\nlenderAllocations.sort((a, b) => b.total - a.total);\n\nfunction formatDueDate(date: Date): string {\n  if (isToday(date)) return \"Today\";\n  if (isTomorrow(date)) return \"Tomorrow\";\n  const days = differenceInDays(date, new Date());\n  if (days < 0) return `${Math.abs(days)}d overdue`;\n  return format(date, \"MMM d\");\n}\n\nfunction getPaymentStatus(date: Date): \"overdue\" | \"due-soon\" | \"due-today\" | \"pending\" {\n  if (isToday(date)) return \"due-today\";\n  const days = differenceInDays(date, new Date());\n  if (days < 0) return \"overdue\";\n  if (days <= 3) return \"due-soon\";\n  return \"pending\";\n}\n---\n<DashboardLayout title=\"Forecast\" currentPath=\"/dashboard/pay-periods\" user={session.user} showExploreSidebar={false}>\n  <div class=\"space-y-6\">\n    <!-- Header with Period Selector -->\n    <header class=\"space-y-4\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <h1 class=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">Forecast</h1>\n          <p class=\"text-gray-500 dark:text-gray-400 mt-1 flex items-center gap-2\">\n            <Calendar className=\"h-4 w-4\" />\n            {formatPayPeriod(selectedPeriod)}\n          </p>\n        </div>\n        {isPastPeriod && (\n          <span class=\"px-3 py-1 text-xs font-medium bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 rounded-full\">\n            Past Period\n          </span>\n        )}\n        {isFuturePeriod && (\n          <span class=\"px-3 py-1 text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full\">\n            Upcoming\n          </span>\n        )}\n      </div>\n      \n      <!-- Period Navigation -->\n      <div class=\"bg-white dark:bg-[#1c2128] rounded-xl border border-gray-200 dark:border-[#30363d] p-4\">\n        <PeriodSelector \n          client:load\n          currentPeriodLabel={formatPayPeriod(currentPeriod)}\n          previousPeriodLabel={formatPayPeriod(previousPeriod)}\n          nextPeriodLabel={formatPayPeriod(nextPeriod)}\n          defaultPeriod={periodParam || 'current'}\n        />\n      </div>\n    </header>\n\n    <!-- Paycheck Allocation Card -->\n    <div class=\"bg-white dark:bg-[#1c2128] rounded-xl border border-gray-200 dark:border-[#30363d] p-5\">\n      <div class=\"flex items-center justify-between mb-4\">\n        <div class=\"flex items-center gap-2\">\n          <div class=\"w-10 h-10 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center\">\n            <Wallet className=\"h-5 w-5 text-emerald-600 dark:text-emerald-400\" />\n          </div>\n          <div>\n            <h2 class=\"font-semibold text-gray-900 dark:text-gray-100\">Paycheck Allocation</h2>\n            <p class=\"text-sm text-gray-500 dark:text-gray-400\">\n              ${paycheckAmount.toLocaleString(undefined, { minimumFractionDigits: 2 })} paycheck\n            </p>\n          </div>\n        </div>\n        <div class=\"text-right\">\n          <p class=\"text-xs text-gray-500 dark:text-gray-400\">Safe to Spend</p>\n          <p class={`text-xl font-bold ${safeToSpend >= 0 ? 'text-emerald-600 dark:text-emerald-400' : 'text-red-600 dark:text-red-400'}`}>\n            ${safeToSpend.toLocaleString(undefined, { minimumFractionDigits: 2 })}\n          </p>\n        </div>\n      </div>\n\n      <AllocationChart client:visible items={allocationItems} total={paycheckAmount} />\n    </div>\n\n    <!-- Bank Account Allocation -->\n    {bankAllocations.length > 0 && bankAllocations.some(a => a.account !== null) && (\n      <SectionCard client:visible title=\"Transfer by Account\" subtitle={`${bankAllocations.filter(a => a.account).length} accounts`} defaultOpen={true}>\n        <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n          {bankAllocations.map((allocation) => (\n            allocation.account ? (\n              <BankAccountAllocationCard\n                client:visible\n                name={allocation.account.name}\n                bank={allocation.account.bank}\n                lastFour={allocation.account.lastFour}\n                amount={allocation.total}\n                bills={allocation.bills}\n              />\n            ) : null\n          ))}\n        </div>\n        \n        {bankAllocations.some(a => a.account === null) && (\n          <div class=\"mt-4 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-dashed border-gray-200 dark:border-gray-700\">\n            <div class=\"flex items-center gap-3 mb-3\">\n              <div class=\"w-10 h-10 rounded-lg bg-gray-200 dark:bg-gray-700 flex items-center justify-center\">\n                <Building2 className=\"h-5 w-5 text-gray-500 dark:text-gray-400\" />\n              </div>\n              <div>\n                <p class=\"font-medium text-gray-700 dark:text-gray-300\">Unassigned Bills</p>\n                <p class=\"text-sm text-gray-500 dark:text-gray-400\">\n                  ${bankAllocations.find(a => a.account === null)?.total.toLocaleString(undefined, { minimumFractionDigits: 2 })} total\n                </p>\n              </div>\n            </div>\n            <div class=\"space-y-1\">\n              {bankAllocations.find(a => a.account === null)?.bills.map((bill) => (\n                <div class=\"flex items-center justify-between text-sm\">\n                  <span class=\"text-gray-600 dark:text-gray-400\">{bill.name}</span>\n                  <span class=\"text-gray-700 dark:text-gray-300\">${bill.amount.toLocaleString(undefined, { minimumFractionDigits: 2 })}</span>\n                </div>\n              ))}\n            </div>\n            <p class=\"text-xs text-gray-500 dark:text-gray-400 mt-3\">\n              <a href=\"/dashboard/bills\" class=\"text-blue-600 dark:text-blue-400 hover:underline\">Assign bank accounts</a> to these bills for better tracking\n            </p>\n          </div>\n        )}\n      </SectionCard>\n    )}\n\n    <!-- Transfer by Lender (BNPL) -->\n    {lenderAllocations.length > 0 && (\n      <SectionCard \n        client:visible \n        title=\"Transfer by Lender (BNPL)\" \n        subtitle={`${lenderAllocations.length} provider${lenderAllocations.length !== 1 ? 's' : ''} · $${lenderAllocations.reduce((sum, l) => sum + l.total, 0).toLocaleString(undefined, { minimumFractionDigits: 2 })} total`}\n        defaultOpen={true}\n      >\n        <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n          {lenderAllocations.map((allocation) => (\n            <div class=\"bg-white dark:bg-[#1c2128] rounded-xl border border-gray-200 dark:border-[#30363d] overflow-hidden\">\n              <div class=\"p-4 bg-gradient-to-r from-purple-600 via-fuchsia-500 to-pink-500\">\n                <div class=\"flex items-center justify-between\">\n                  <div class=\"flex items-center gap-3\">\n                    <div class=\"w-10 h-10 rounded-lg bg-white/10 backdrop-blur-sm flex items-center justify-center\">\n                      <CreditCard className=\"h-5 w-5 text-white\" />\n                    </div>\n                    <div>\n                      <p class=\"font-semibold text-white\">{allocation.lenderName}</p>\n                      <p class=\"text-sm text-white/70\">{allocation.bills.length} installment{allocation.bills.length !== 1 ? 's' : ''}</p>\n                    </div>\n                  </div>\n                  <div class=\"text-right\">\n                    <p class=\"text-xs text-white/70\">Transfer Amount</p>\n                    <p class=\"text-xl font-bold text-white\">\n                      ${allocation.total.toLocaleString(undefined, { minimumFractionDigits: 2 })}\n                    </p>\n                  </div>\n                </div>\n              </div>\n              \n              {allocation.bills.length > 0 && (\n                <div class=\"p-4 divide-y divide-gray-100 dark:divide-gray-800\">\n                  {allocation.bills.map((bill) => (\n                    <div class=\"flex items-center justify-between py-2 first:pt-0 last:pb-0\">\n                      <div>\n                        <p class=\"font-medium text-gray-900 dark:text-gray-100 text-sm\">{bill.name}</p>\n                        <p class=\"text-xs text-gray-500 dark:text-gray-400\">{bill.dueDate}</p>\n                      </div>\n                      <p class=\"font-medium text-gray-700 dark:text-gray-300\">\n                        ${bill.amount.toLocaleString(undefined, { minimumFractionDigits: 2 })}\n                      </p>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      </SectionCard>\n    )}\n\n    <!-- Summary Stats -->\n    <div class=\"grid grid-cols-2 lg:grid-cols-4 gap-4\">\n      <div class=\"bg-white dark:bg-[#1c2128] rounded-xl border border-gray-200 dark:border-[#30363d] p-4\">\n        <p class=\"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide\">Total Due</p>\n        <p class=\"text-2xl font-semibold text-gray-900 dark:text-gray-100 mt-1\">\n          ${totalDue.toLocaleString(undefined, { minimumFractionDigits: 2 })}\n        </p>\n        <p class=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">{payments.length} bills</p>\n      </div>\n      <div class=\"bg-white dark:bg-[#1c2128] rounded-xl border border-gray-200 dark:border-[#30363d] p-4\">\n        <p class=\"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide\">Paid</p>\n        <p class=\"text-2xl font-semibold text-emerald-600 dark:text-emerald-400 mt-1\">\n          ${totalPaid.toLocaleString(undefined, { minimumFractionDigits: 2 })}\n        </p>\n        <p class=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">{paidPayments.length} completed</p>\n      </div>\n      <div class=\"bg-white dark:bg-[#1c2128] rounded-xl border border-gray-200 dark:border-[#30363d] p-4\">\n        <p class=\"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide\">Remaining</p>\n        <p class={`text-2xl font-semibold mt-1 ${totalRemaining > 0 ? 'text-amber-600 dark:text-amber-400' : 'text-emerald-600 dark:text-emerald-400'}`}>\n          ${totalRemaining.toLocaleString(undefined, { minimumFractionDigits: 2 })}\n        </p>\n        <p class=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">{unpaidPayments.length} pending</p>\n      </div>\n      <div class=\"bg-white dark:bg-[#1c2128] rounded-xl border border-gray-200 dark:border-[#30363d] p-4\">\n        <p class=\"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide\">Progress</p>\n        <p class=\"text-2xl font-semibold text-gray-900 dark:text-gray-100 mt-1\">\n          {payments.length > 0 ? Math.round((paidPayments.length / payments.length) * 100) : 0}%\n        </p>\n        <div class=\"mt-2 h-1.5 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden\">\n          <div \n            class=\"h-full bg-emerald-500 rounded-full transition-all duration-500\"\n            style={`width: ${payments.length > 0 ? (paidPayments.length / payments.length) * 100 : 0}%`}\n          />\n        </div>\n      </div>\n    </div>\n\n    <!-- Current Period: Link to Paycheck Plan -->\n    {isCurrentPeriod && payments.length > 0 && (\n      <div class=\"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl border border-blue-200 dark:border-blue-800 p-5\">\n        <div class=\"flex items-center gap-3 mb-3\">\n          <div class=\"w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center\">\n            <Wallet className=\"h-5 w-5 text-blue-600 dark:text-blue-400\" />\n          </div>\n          <div class=\"flex-1\">\n            <h3 class=\"font-semibold text-gray-900 dark:text-gray-100\">Current Period Bills</h3>\n            <p class=\"text-sm text-gray-600 dark:text-gray-400\">\n              {unpaidPayments.length} unpaid · {paidPayments.length} paid\n            </p>\n          </div>\n        </div>\n        <p class=\"text-sm text-gray-600 dark:text-gray-400 mb-4\">\n          Manage your current period bill payments in the Paycheck Plan for a more detailed workflow.\n        </p>\n        <a \n          href=\"/dashboard/paycheck-plan\" \n          class=\"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium text-sm rounded-lg transition-colors\"\n        >\n          <Wallet className=\"h-4 w-4\" />\n          Open Paycheck Plan\n        </a>\n      </div>\n    )}\n\n    <!-- Historical Period: Unpaid Bills (Read-Only) -->\n    {isPastPeriod && unpaidPayments.length > 0 && (\n      <SectionCard client:visible title=\"Unpaid\" subtitle={`${unpaidPayments.length} remaining`}>\n        <div class=\"divide-y divide-gray-100 dark:divide-gray-800\">\n          {unpaidPayments.map((payment) => {\n            const status = getPaymentStatus(payment.dueDate);\n            return (\n              <div class=\"flex items-center justify-between py-3 first:pt-0 last:pb-0 group\">\n                <div class=\"flex items-center gap-3\">\n                  <div class=\"p-1\">\n                    <Circle className=\"h-5 w-5 text-gray-400 dark:text-gray-500\" />\n                  </div>\n                  <div>\n                    <p class=\"font-medium text-gray-900 dark:text-gray-100\">{payment.bill.name}</p>\n                    <p class={`text-sm ${\n                      status === 'overdue' ? 'text-red-600 dark:text-red-400' :\n                      status === 'due-today' ? 'text-amber-600 dark:text-amber-400' :\n                      status === 'due-soon' ? 'text-amber-600 dark:text-amber-400' :\n                      'text-gray-500 dark:text-gray-400'\n                    }`}>\n                      {formatDueDate(payment.dueDate)}\n                    </p>\n                  </div>\n                </div>\n                <span class={`font-semibold ${\n                  status === 'overdue' ? 'text-red-600 dark:text-red-400' :\n                  'text-gray-900 dark:text-gray-100'\n                }`}>\n                  ${Number(payment.amount).toLocaleString(undefined, { minimumFractionDigits: 2 })}\n                </span>\n              </div>\n            );\n          })}\n        </div>\n      </SectionCard>\n    )}\n\n    <!-- Future Period: Unpaid Bills (Read-Only) -->\n    {isFuturePeriod && unpaidPayments.length > 0 && (\n      <SectionCard client:visible title=\"Upcoming Bills\" subtitle={`${unpaidPayments.length} scheduled`}>\n        <div class=\"divide-y divide-gray-100 dark:divide-gray-800\">\n          {unpaidPayments.map((payment) => {\n            return (\n              <div class=\"flex items-center justify-between py-3 first:pt-0 last:pb-0 group\">\n                <div class=\"flex items-center gap-3\">\n                  <div class=\"p-1\">\n                    <Circle className=\"h-5 w-5 text-gray-400 dark:text-gray-500\" />\n                  </div>\n                  <div>\n                    <p class=\"font-medium text-gray-900 dark:text-gray-100\">{payment.bill.name}</p>\n                    <p class=\"text-sm text-gray-500 dark:text-gray-400\">\n                      {formatDueDate(payment.dueDate)}\n                    </p>\n                  </div>\n                </div>\n                <span class=\"font-semibold text-gray-900 dark:text-gray-100\">\n                  ${Number(payment.amount).toLocaleString(undefined, { minimumFractionDigits: 2 })}\n                </span>\n              </div>\n            );\n          })}\n        </div>\n      </SectionCard>\n    )}\n\n    <!-- Historical/Future Period: Paid Bills (Read-Only) -->\n    {!isCurrentPeriod && paidPayments.length > 0 && (\n      <SectionCard client:visible title=\"Paid\" subtitle={`${paidPayments.length} completed`} defaultOpen={false}>\n        <div class=\"divide-y divide-gray-100 dark:divide-gray-800\">\n          {paidPayments.map((payment) => (\n            <div class=\"flex items-center justify-between py-3 first:pt-0 last:pb-0 opacity-60\">\n              <div class=\"flex items-center gap-3\">\n                <div class=\"p-1\">\n                  <CheckCircle2 className=\"h-5 w-5 text-emerald-600 dark:text-emerald-400\" />\n                </div>\n                <div>\n                  <p class=\"font-medium text-gray-900 dark:text-gray-100 line-through\">{payment.bill.name}</p>\n                  <p class=\"text-sm text-gray-500 dark:text-gray-400\">{formatDueDate(payment.dueDate)}</p>\n                </div>\n              </div>\n              <span class=\"font-semibold text-gray-900 dark:text-gray-100\">\n                ${Number(payment.amount).toLocaleString(undefined, { minimumFractionDigits: 2 })}\n              </span>\n            </div>\n          ))}\n        </div>\n      </SectionCard>\n    )}\n\n    <!-- No Bills Message -->\n    {payments.length === 0 && (\n      <div class=\"bg-white dark:bg-[#1c2128] rounded-xl border border-gray-200 dark:border-[#30363d] p-8\">\n        <div class=\"text-center\">\n          <div class=\"w-12 h-12 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mx-auto mb-3\">\n            <TrendingUp className=\"h-6 w-6 text-gray-400\" />\n          </div>\n          <p class=\"font-medium text-gray-600 dark:text-gray-400\">No bills this period</p>\n          <p class=\"text-sm text-gray-500 dark:text-gray-500 mt-1\">\n            {isFuturePeriod ? \"Nothing scheduled yet\" : \"All clear for this period\"}\n          </p>\n        </div>\n      </div>\n    )}\n\n    <!-- Annual Payday Forecast -->\n    {isCurrentPeriod && forecastData.length > 0 && (\n      <AnnualForecast \n        client:visible \n        forecastData={forecastData} \n        paycheckAmount={paycheckAmount} \n      />\n    )}\n\n    <!-- Period Comparison (Previous Period) -->\n    {isPastPeriod && (\n      <div class=\"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-800/30 rounded-xl border border-gray-200 dark:border-[#30363d] p-5\">\n        <div class=\"flex items-center gap-2 mb-3\">\n          <CreditCard className=\"h-5 w-5 text-gray-600 dark:text-gray-400\" />\n          <h3 class=\"font-semibold text-gray-900 dark:text-gray-100\">Period Summary</h3>\n        </div>\n        <div class=\"grid grid-cols-2 gap-4\">\n          <div>\n            <p class=\"text-xs text-gray-500 dark:text-gray-400\">Total Spent</p>\n            <p class=\"text-lg font-bold text-gray-900 dark:text-gray-100\">\n              ${totalPaid.toLocaleString(undefined, { minimumFractionDigits: 2 })}\n            </p>\n          </div>\n          <div>\n            <p class=\"text-xs text-gray-500 dark:text-gray-400\">Bills Paid</p>\n            <p class=\"text-lg font-bold text-gray-900 dark:text-gray-100\">\n              {paidPayments.length} of {payments.length}\n            </p>\n          </div>\n        </div>\n      </div>\n    )}\n  </div>\n\n\n</DashboardLayout>\n"],"names":["$$createAstro","$$createComponent","Astro","accountMap","payments","$$render","$$renderComponent","DashboardLayout","$$result","$$maybeRenderHead","$$addAttribute"],"mappings":"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"}