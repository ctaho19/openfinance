{"version":3,"file":"paycheck-plan.astro.mjs","sources":["../../../../src/components/paycheck-plan/PaycheckPlanView.tsx","../../../../src/pages/dashboard/paycheck-plan/index.astro"],"sourcesContent":["import { useState, useEffect, useMemo } from \"react\";\nimport { \n  ArrowRight, \n  CheckCircle2, \n  Circle, \n  CreditCard, \n  PiggyBank, \n  Wallet, \n  TrendingDown,\n  AlertTriangle,\n  Target,\n  Zap,\n  ArrowDown,\n  Building2,\n  Heart,\n  RotateCcw,\n  Info,\n} from \"lucide-react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"../ui/card\";\nimport { format } from \"date-fns\";\n\ninterface PlanStep {\n  id: string;\n  type: \"TRANSFER\" | \"BILL_PAYMENT\" | \"EXTRA_DEBT_PAYMENT\" | \"SAVINGS_TRANSFER\";\n  order: number;\n  label: string;\n  amount: number;\n  fromAccountId?: string;\n  fromAccountName?: string;\n  toAccountId?: string;\n  toAccountName?: string;\n  billPaymentId?: string;\n  debtId?: string;\n  savingsGoalId?: string;\n  dueDate?: string;\n  purpose?: string;\n}\n\ninterface AvalancheTarget {\n  debtId: string;\n  debtName: string;\n  bankAccountId: string | null;\n  bankAccountName: string | null;\n  interestRate: number;\n  currentBalance: number;\n}\n\ninterface PayoffProgress {\n  startDate?: string;\n  targetDate?: string;\n  startDebt?: number;\n  currentDebt: number;\n  debtPaid?: number;\n  debtProgressPct?: number;\n  timeProgressPct?: number;\n  onTrack?: boolean;\n  monthsRemaining?: number;\n}\n\ninterface UnpaidPayment {\n  id: string;\n  dueDate: string;\n  amount: number;\n  status: string;\n  bill: {\n    name: string;\n  };\n}\n\ninterface DollarAllocationPlan {\n  period: {\n    startDate: string;\n    endDate: string;\n    paycheckDate: string;\n  };\n  paycheckAmount: number;\n  totalBillsThisPeriod: number;      // All bills for period (paid + unpaid)\n  billsRemainingThisPeriod: number;  // Only unpaid bills\n  billsPaidThisPeriod: number;       // Already paid\n  discretionaryThisPaycheck: number;\n  surplusSplit: {\n    surplus: number;\n    savingsAllocation: number;\n    debtAllocation: number;\n    isNegative: boolean;\n  };\n  avalancheTarget?: AvalancheTarget;\n  steps: PlanStep[];\n  transfers: PlanStep[];\n  billPayments: PlanStep[];\n  extraDebtStep?: PlanStep;\n  savingsStep?: PlanStep;\n  payoffProgress: PayoffProgress;\n  emergencyFundCurrent: number;\n  emergencyFundTarget: number;\n  unpaidPayments: UnpaidPayment[];\n  debtSurplusPercent?: number;\n  savingsSurplusPercent?: number;\n}\n\nfunction formatCurrency(amount: number): string {\n  return new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n    minimumFractionDigits: 2,\n  }).format(amount);\n}\n\nfunction ChecklistItem({\n  step,\n  isCompleted,\n  onToggle,\n  isLoading,\n}: {\n  step: PlanStep;\n  isCompleted: boolean;\n  onToggle: () => void;\n  isLoading: boolean;\n}) {\n  const getIcon = () => {\n    switch (step.type) {\n      case \"TRANSFER\":\n        return <ArrowRight className=\"h-5 w-5\" />;\n      case \"BILL_PAYMENT\":\n        return <CreditCard className=\"h-5 w-5\" />;\n      case \"EXTRA_DEBT_PAYMENT\":\n        return <Zap className=\"h-5 w-5\" />;\n      case \"SAVINGS_TRANSFER\":\n        return <PiggyBank className=\"h-5 w-5\" />;\n      default:\n        return <Wallet className=\"h-5 w-5\" />;\n    }\n  };\n\n  const getBgColor = () => {\n    if (isCompleted) return \"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800\";\n    switch (step.type) {\n      case \"TRANSFER\":\n        return \"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800\";\n      case \"BILL_PAYMENT\":\n        return \"bg-white dark:bg-[#1c2128] border-gray-200 dark:border-[#30363d]\";\n      case \"EXTRA_DEBT_PAYMENT\":\n        return \"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800\";\n      case \"SAVINGS_TRANSFER\":\n        return \"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800\";\n      default:\n        return \"bg-white dark:bg-[#1c2128] border-gray-200 dark:border-[#30363d]\";\n    }\n  };\n\n  const getIconColor = () => {\n    if (isCompleted) return \"text-emerald-600 dark:text-emerald-400\";\n    switch (step.type) {\n      case \"TRANSFER\":\n        return \"text-blue-600 dark:text-blue-400\";\n      case \"EXTRA_DEBT_PAYMENT\":\n        return \"text-amber-600 dark:text-amber-400\";\n      case \"SAVINGS_TRANSFER\":\n        return \"text-purple-600 dark:text-purple-400\";\n      default:\n        return \"text-gray-600 dark:text-gray-400\";\n    }\n  };\n\n  return (\n    <div\n      onClick={() => !isLoading && onToggle()}\n      className={`\n        flex items-start gap-4 p-4 rounded-xl border-2 cursor-pointer\n        transition-all duration-200 hover:shadow-md\n        ${getBgColor()}\n        ${isCompleted ? \"opacity-75\" : \"\"}\n      `}\n    >\n      <div className=\"flex-shrink-0 mt-0.5\">\n        {isLoading ? (\n          <div className=\"h-6 w-6 rounded-full border-2 border-gray-300 border-t-blue-600 animate-spin\" />\n        ) : isCompleted ? (\n          <CheckCircle2 className=\"h-6 w-6 text-emerald-600 dark:text-emerald-400\" />\n        ) : (\n          <Circle className=\"h-6 w-6 text-gray-400 dark:text-gray-500\" />\n        )}\n      </div>\n\n      <div className=\"flex-1 min-w-0\">\n        <div className=\"flex items-center gap-2 mb-1\">\n          <span className={getIconColor()}>{getIcon()}</span>\n          <span className=\"text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-400\">\n            {step.type.replace(/_/g, \" \")}\n          </span>\n        </div>\n        <p className={`font-medium ${isCompleted ? \"line-through text-gray-500\" : \"text-gray-900 dark:text-gray-100\"}`}>\n          {step.label}\n        </p>\n        {step.dueDate && (\n          <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\n            Due: {format(new Date(step.dueDate), \"MMM d, yyyy\")}\n          </p>\n        )}\n      </div>\n\n      <div className=\"flex-shrink-0 text-right\">\n        <p className={`text-lg font-semibold ${isCompleted ? \"text-gray-500 line-through\" : \"text-gray-900 dark:text-gray-100\"}`}>\n          {formatCurrency(step.amount)}\n        </p>\n      </div>\n    </div>\n  );\n}\n\nfunction ProgressBar({ \n  progress, \n  label, \n  color = \"blue\" \n}: { \n  progress: number; \n  label: string; \n  color?: \"blue\" | \"emerald\" | \"amber\" \n}) {\n  const colors = {\n    blue: \"bg-blue-600 dark:bg-blue-500\",\n    emerald: \"bg-emerald-600 dark:bg-emerald-500\",\n    amber: \"bg-amber-600 dark:bg-amber-500\",\n  };\n\n  return (\n    <div className=\"space-y-1\">\n      <div className=\"flex justify-between text-sm\">\n        <span className=\"text-gray-600 dark:text-gray-400\">{label}</span>\n        <span className=\"font-medium text-gray-900 dark:text-gray-100\">\n          {(progress * 100).toFixed(1)}%\n        </span>\n      </div>\n      <div className=\"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden\">\n        <div\n          className={`h-full ${colors[color]} transition-all duration-500`}\n          style={{ width: `${Math.min(100, progress * 100)}%` }}\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction LifeHappenedCard({\n  amount,\n  onAmountChange,\n  onReset,\n  maxAmount,\n}: {\n  amount: number;\n  onAmountChange: (amount: number) => void;\n  onReset: () => void;\n  maxAmount: number;\n}) {\n  const [inputValue, setInputValue] = useState(amount > 0 ? amount.toString() : \"\");\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value.replace(/[^0-9.]/g, \"\");\n    setInputValue(value);\n    const parsed = parseFloat(value);\n    if (!isNaN(parsed) && parsed >= 0) {\n      onAmountChange(Math.min(parsed, maxAmount));\n    } else if (value === \"\") {\n      onAmountChange(0);\n    }\n  };\n\n  const handleReset = () => {\n    setInputValue(\"\");\n    onReset();\n  };\n\n  return (\n    <Card variant=\"outlined\" className=\"border-rose-200 dark:border-rose-800 bg-rose-50/50 dark:bg-rose-900/10\">\n      <CardContent className=\"py-4\">\n        <div className=\"flex items-start gap-3\">\n          <Heart className=\"h-5 w-5 text-rose-500 flex-shrink-0 mt-1\" />\n          <div className=\"flex-1 min-w-0\">\n            <p className=\"font-medium text-gray-900 dark:text-gray-100 mb-1\">\n              Life Happened?\n            </p>\n            <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-3\">\n              Unexpected expense this period? Enter it here and we'll adjust your plan. No judgment.\n            </p>\n            <div className=\"flex items-center gap-3\">\n              <div className=\"relative flex-1 max-w-[200px]\">\n                <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500\">$</span>\n                <input\n                  type=\"text\"\n                  inputMode=\"decimal\"\n                  value={inputValue}\n                  onChange={handleInputChange}\n                  placeholder=\"0.00\"\n                  className=\"w-full pl-7 pr-3 py-2 rounded-lg border border-rose-200 dark:border-rose-700 \n                    bg-white dark:bg-[#1c2128] text-gray-900 dark:text-gray-100\n                    focus:ring-2 focus:ring-rose-500 focus:border-transparent\n                    placeholder:text-gray-400\"\n                />\n              </div>\n              {amount > 0 && (\n                <button\n                  onClick={handleReset}\n                  className=\"flex items-center gap-1.5 px-3 py-2 text-sm font-medium\n                    text-rose-600 dark:text-rose-400 hover:bg-rose-100 dark:hover:bg-rose-900/30\n                    rounded-lg transition-colors\"\n                >\n                  <RotateCcw className=\"h-4 w-4\" />\n                  Reset\n                </button>\n              )}\n            </div>\n            {amount > 0 && (\n              <p className=\"text-sm text-rose-600 dark:text-rose-400 mt-2\">\n                Adjusting plan by −{formatCurrency(amount)}\n              </p>\n            )}\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nexport function PaycheckPlanView() {\n  const [plan, setPlan] = useState<DollarAllocationPlan | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [completedSteps, setCompletedSteps] = useState<Set<string>>(new Set());\n  const [processingStep, setProcessingStep] = useState<string | null>(null);\n  const [lifeHappenedAmount, setLifeHappenedAmount] = useState(0);\n\n  useEffect(() => {\n    fetchPlan();\n  }, []);\n\n  useEffect(() => {\n    if (!plan) return;\n    const saved = localStorage.getItem(\"paycheck-plan-completed\");\n    if (saved) {\n      try {\n        const parsed = JSON.parse(saved);\n        if (parsed.periodStart === plan.period.startDate) {\n          setCompletedSteps(new Set(parsed.steps));\n        }\n      } catch {}\n    }\n    const savedLifeHappened = localStorage.getItem(\"paycheck-plan-life-happened\");\n    if (savedLifeHappened) {\n      try {\n        const parsed = JSON.parse(savedLifeHappened);\n        if (parsed.periodStart === plan.period.startDate) {\n          setLifeHappenedAmount(parsed.amount || 0);\n        }\n      } catch {}\n    }\n  }, [plan?.period.startDate]);\n\n  useEffect(() => {\n    if (plan) {\n      localStorage.setItem(\n        \"paycheck-plan-completed\",\n        JSON.stringify({\n          periodStart: plan.period.startDate,\n          steps: Array.from(completedSteps),\n        })\n      );\n    }\n  }, [completedSteps, plan]);\n\n  useEffect(() => {\n    if (plan) {\n      localStorage.setItem(\n        \"paycheck-plan-life-happened\",\n        JSON.stringify({\n          periodStart: plan.period.startDate,\n          amount: lifeHappenedAmount,\n        })\n      );\n    }\n  }, [lifeHappenedAmount, plan]);\n\n  const adjusted = useMemo(() => {\n    if (!plan) return null;\n\n    const originalSurplus = plan.surplusSplit.surplus;\n    const adjustedSurplus = originalSurplus - lifeHappenedAmount;\n    const isNegative = adjustedSurplus <= 0;\n\n    const debtPercent = plan.debtSurplusPercent ?? 0.8;\n    const savingsPercent = plan.savingsSurplusPercent ?? 0.2;\n\n    let adjustedDebtAllocation = 0;\n    let adjustedSavingsAllocation = 0;\n\n    if (!isNegative) {\n      const efRemaining = Math.max(0, plan.emergencyFundTarget - plan.emergencyFundCurrent);\n      adjustedSavingsAllocation = Math.min(adjustedSurplus * savingsPercent, efRemaining);\n      adjustedDebtAllocation = adjustedSurplus - adjustedSavingsAllocation;\n    }\n\n    const adjustedExtraDebtStep = plan.extraDebtStep\n      ? { ...plan.extraDebtStep, amount: Math.max(0, adjustedDebtAllocation) }\n      : undefined;\n\n    const adjustedSavingsStep = plan.savingsStep\n      ? { ...plan.savingsStep, amount: Math.max(0, adjustedSavingsAllocation) }\n      : undefined;\n\n    return {\n      surplusSplit: {\n        surplus: adjustedSurplus,\n        savingsAllocation: adjustedSavingsAllocation,\n        debtAllocation: adjustedDebtAllocation,\n        isNegative,\n      },\n      extraDebtStep: adjustedExtraDebtStep,\n      savingsStep: adjustedSavingsStep,\n      originalSurplus,\n    };\n  }, [plan, lifeHappenedAmount]);\n\n  const handleLifeHappenedChange = (amount: number) => {\n    setLifeHappenedAmount(amount);\n  };\n\n  const handleLifeHappenedReset = () => {\n    setLifeHappenedAmount(0);\n  };\n\n  async function fetchPlan() {\n    try {\n      setLoading(true);\n      const res = await fetch(\"/api/paycheck-plan\");\n      if (!res.ok) throw new Error(\"Failed to fetch plan\");\n      const data = await res.json();\n      setPlan(data);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to load plan\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function handleToggleStep(step: PlanStep) {\n    if (completedSteps.has(step.id)) {\n      setCompletedSteps((prev) => {\n        const next = new Set(prev);\n        next.delete(step.id);\n        return next;\n      });\n      return;\n    }\n\n    setProcessingStep(step.id);\n\n    try {\n      if (step.type === \"BILL_PAYMENT\" && step.billPaymentId) {\n        await fetch(`/api/bill-payments/${step.billPaymentId}/pay`, {\n          method: \"POST\",\n        });\n      } else if (step.type === \"EXTRA_DEBT_PAYMENT\" && step.debtId) {\n        await fetch(\"/api/paycheck-plan/extra-payment\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ debtId: step.debtId, amount: step.amount }),\n        });\n      } else if (step.type === \"SAVINGS_TRANSFER\") {\n        await fetch(\"/api/paycheck-plan/emergency-fund\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ amount: step.amount }),\n        });\n      }\n\n      setCompletedSteps((prev) => new Set([...prev, step.id]));\n      \n      if (step.type === \"EXTRA_DEBT_PAYMENT\" || step.type === \"BILL_PAYMENT\") {\n        fetchPlan();\n      }\n    } catch (err) {\n      console.error(\"Failed to process step:\", err);\n    } finally {\n      setProcessingStep(null);\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"space-y-4 animate-pulse\">\n        <div className=\"h-32 bg-gray-200 dark:bg-gray-700 rounded-xl\" />\n        <div className=\"h-24 bg-gray-200 dark:bg-gray-700 rounded-xl\" />\n        <div className=\"h-48 bg-gray-200 dark:bg-gray-700 rounded-xl\" />\n      </div>\n    );\n  }\n\n  if (error || !plan) {\n    return (\n      <Card variant=\"outlined\" className=\"border-red-200 dark:border-red-800\">\n        <CardContent className=\"py-8 text-center\">\n          <AlertTriangle className=\"h-12 w-12 text-red-500 mx-auto mb-4\" />\n          <p className=\"text-red-600 dark:text-red-400 font-medium\">{error || \"Failed to load plan\"}</p>\n          <button\n            onClick={fetchPlan}\n            className=\"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n          >\n            Retry\n          </button>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  const periodLabel = `${format(new Date(plan.period.startDate), \"MMM d\")} - ${format(new Date(plan.period.endDate), \"MMM d, yyyy\")}`;\n  const completionPct = plan.steps.length > 0 \n    ? (completedSteps.size / plan.steps.length) * 100 \n    : 0;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Hero Section */}\n      <Card variant=\"gradient\" className=\"relative overflow-hidden\">\n        <CardContent className=\"py-6\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <Wallet className=\"h-5 w-5 text-white/80\" />\n            <span className=\"text-sm text-white/80 font-medium\">Paycheck Plan</span>\n          </div>\n          <h1 className=\"text-3xl font-bold text-white mb-1\">\n            {formatCurrency(plan.paycheckAmount)}\n          </h1>\n          <p className=\"text-white/70\">{periodLabel}</p>\n\n          <div className=\"mt-6 grid grid-cols-2 sm:grid-cols-4 gap-4\">\n            <div>\n              <p className=\"text-xs text-white/60 uppercase tracking-wide\">Total Bills</p>\n              <p className=\"text-lg font-semibold text-white\">\n                {formatCurrency(plan.totalBillsThisPeriod)}\n              </p>\n            </div>\n            <div>\n              <p className=\"text-xs text-white/60 uppercase tracking-wide\">Remaining</p>\n              <p className=\"text-lg font-semibold text-amber-300\">\n                {formatCurrency(plan.billsRemainingThisPeriod)}\n              </p>\n              {plan.billsPaidThisPeriod > 0 && (\n                <p className=\"text-xs text-white/50\">\n                  {formatCurrency(plan.billsPaidThisPeriod)} paid\n                </p>\n              )}\n            </div>\n            <div>\n              <p className=\"text-xs text-white/60 uppercase tracking-wide\">Spending</p>\n              <p className=\"text-lg font-semibold text-white\">\n                {formatCurrency(plan.discretionaryThisPaycheck)}\n              </p>\n            </div>\n            <div>\n              <p className=\"text-xs text-white/60 uppercase tracking-wide\">\n                True Surplus{lifeHappenedAmount > 0 ? \" (Adjusted)\" : \"\"}\n              </p>\n              <p className={`text-lg font-semibold ${adjusted?.surplusSplit.isNegative ? \"text-red-300\" : \"text-emerald-300\"}`}>\n                {formatCurrency(adjusted?.surplusSplit.surplus ?? plan.surplusSplit.surplus)}\n              </p>\n              {lifeHappenedAmount > 0 && (\n                <p className=\"text-xs text-white/50 line-through\">\n                  {formatCurrency(plan.surplusSplit.surplus)}\n                </p>\n              )}\n            </div>\n          </div>\n\n          {completionPct > 0 && (\n            <div className=\"mt-4\">\n              <div className=\"flex justify-between text-xs text-white/70 mb-1\">\n                <span>Progress</span>\n                <span>{completionPct.toFixed(0)}% complete</span>\n              </div>\n              <div className=\"h-2 bg-white/20 rounded-full overflow-hidden\">\n                <div\n                  className=\"h-full bg-white transition-all duration-500\"\n                  style={{ width: `${completionPct}%` }}\n                />\n              </div>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Life Happened Card - only show when there's positive surplus to adjust */}\n      {!plan.surplusSplit.isNegative && plan.surplusSplit.surplus > 0 && (\n        <LifeHappenedCard\n          amount={lifeHappenedAmount}\n          onAmountChange={handleLifeHappenedChange}\n          onReset={handleLifeHappenedReset}\n          maxAmount={plan.surplusSplit.surplus}\n        />\n      )}\n\n      {/* Negative Surplus Warning - show for original OR adjusted */}\n      {(adjusted?.surplusSplit.isNegative && !plan.surplusSplit.isNegative) && (\n        <Card variant=\"outlined\" className=\"border-amber-300 dark:border-amber-800 bg-amber-50 dark:bg-amber-900/20\">\n          <CardContent className=\"py-4\">\n            <div className=\"flex items-start gap-3\">\n              <AlertTriangle className=\"h-6 w-6 text-amber-600 flex-shrink-0 mt-0.5\" />\n              <div>\n                <p className=\"font-semibold text-amber-800 dark:text-amber-200\">\n                  After adjustments, no surplus remains\n                </p>\n                <p className=\"text-sm text-amber-700 dark:text-amber-300 mt-1\">\n                  Your surprise expense of {formatCurrency(lifeHappenedAmount)} uses all your surplus. \n                  Extra debt and savings steps will be skipped this period.\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n      {plan.surplusSplit.isNegative && (\n        <Card variant=\"outlined\" className=\"border-red-300 dark:border-red-800 bg-red-50 dark:bg-red-900/20\">\n          <CardContent className=\"py-4\">\n            <div className=\"flex items-start gap-3\">\n              <AlertTriangle className=\"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5\" />\n              <div>\n                <p className=\"font-semibold text-red-800 dark:text-red-200\">\n                  You're short {formatCurrency(Math.abs(plan.surplusSplit.surplus))} this paycheck\n                </p>\n                <p className=\"text-sm text-red-700 dark:text-red-300 mt-1\">\n                  Your bills and spending budget exceed your paycheck. Consider which payments can be delayed or reduced.\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Past-due bills warning */}\n      {plan.unpaidPayments && plan.unpaidPayments.length > 0 && (\n        <Card variant=\"outlined\" className=\"border-orange-200 dark:border-orange-800 bg-orange-50 dark:bg-orange-900/20\">\n          <CardContent className=\"py-4\">\n            <div className=\"flex items-start gap-3\">\n              <AlertTriangle className=\"h-5 w-5 text-orange-600 flex-shrink-0 mt-0.5\" />\n              <div>\n                <p className=\"font-medium text-orange-800 dark:text-orange-200\">\n                  {plan.unpaidPayments.length} bill{plan.unpaidPayments.length > 1 ? \"s\" : \"\"} from previous periods\n                </p>\n                <p className=\"text-sm text-orange-700 dark:text-orange-300 mt-1\">\n                  {plan.unpaidPayments.map(p => p.bill.name).join(\", \")} still unpaid. \n                  They'll show up here until marked as paid.\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Checklist explainer */}\n      <div className=\"flex items-start gap-2 px-1\">\n        <Info className=\"h-4 w-4 text-gray-400 flex-shrink-0 mt-0.5\" />\n        <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n          These checkboxes are just for your brain—nothing breaks if you skip them. \n          Bill payments will automatically update their status when checked.\n        </p>\n      </div>\n\n      {/* Step 1: Transfers */}\n      {plan.transfers.length > 0 && (\n        <div>\n          <div className=\"flex items-center gap-2 mb-3\">\n            <div className=\"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-sm\">\n              1\n            </div>\n            <h2 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\n              Move Money Between Accounts\n            </h2>\n          </div>\n          <div className=\"space-y-3\">\n            {plan.transfers.map((step) => (\n              <ChecklistItem\n                key={step.id}\n                step={step}\n                isCompleted={completedSteps.has(step.id)}\n                onToggle={() => handleToggleStep(step)}\n                isLoading={processingStep === step.id}\n              />\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Step 2: Pay Bills */}\n      {plan.billPayments.length > 0 && (\n        <div>\n          <div className=\"flex items-center gap-2 mb-3\">\n            <div className=\"w-8 h-8 rounded-full bg-gray-600 text-white flex items-center justify-center font-bold text-sm\">\n              2\n            </div>\n            <h2 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\n              Pay Bills (In Order)\n            </h2>\n          </div>\n          <div className=\"space-y-3\">\n            {plan.billPayments.map((step) => (\n              <ChecklistItem\n                key={step.id}\n                step={step}\n                isCompleted={completedSteps.has(step.id)}\n                onToggle={() => handleToggleStep(step)}\n                isLoading={processingStep === step.id}\n              />\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Step 3: Extra Debt Payment */}\n      {adjusted?.extraDebtStep && adjusted.extraDebtStep.amount > 0 && plan.avalancheTarget && (\n        <div>\n          <div className=\"flex items-center gap-2 mb-3\">\n            <div className=\"w-8 h-8 rounded-full bg-amber-600 text-white flex items-center justify-center font-bold text-sm\">\n              3\n            </div>\n            <h2 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\n              Extra Debt Attack (Avalanche)\n            </h2>\n          </div>\n          \n          <Card variant=\"outlined\" className=\"mb-3 border-amber-200 dark:border-amber-800 bg-amber-50/50 dark:bg-amber-900/10\">\n            <CardContent className=\"py-4\">\n              <div className=\"flex items-center gap-3 mb-3\">\n                <Target className=\"h-6 w-6 text-amber-600\" />\n                <div>\n                  <p className=\"font-semibold text-gray-900 dark:text-gray-100\">\n                    Target: {plan.avalancheTarget.debtName}\n                  </p>\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                    {plan.avalancheTarget.interestRate.toFixed(2)}% APR • \n                    Balance: {formatCurrency(plan.avalancheTarget.currentBalance)}\n                  </p>\n                </div>\n              </div>\n              <p className=\"text-xs text-amber-700 dark:text-amber-400\">\n                This is your highest-APR debt. Every extra dollar here saves you the most in interest.\n              </p>\n            </CardContent>\n          </Card>\n\n          <ChecklistItem\n            step={adjusted.extraDebtStep}\n            isCompleted={completedSteps.has(adjusted.extraDebtStep.id)}\n            onToggle={() => handleToggleStep(adjusted.extraDebtStep!)}\n            isLoading={processingStep === adjusted.extraDebtStep.id}\n          />\n          {lifeHappenedAmount > 0 && plan.extraDebtStep && (\n            <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2 ml-2\">\n              Reduced from {formatCurrency(plan.extraDebtStep.amount)} due to life adjustment\n            </p>\n          )}\n        </div>\n      )}\n\n      {/* Step 4: Emergency Fund */}\n      {adjusted?.savingsStep && adjusted.savingsStep.amount > 0 && (\n        <div>\n          <div className=\"flex items-center gap-2 mb-3\">\n            <div className=\"w-8 h-8 rounded-full bg-purple-600 text-white flex items-center justify-center font-bold text-sm\">\n              4\n            </div>\n            <h2 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\n              Build Emergency Fund\n            </h2>\n          </div>\n\n          <Card variant=\"outlined\" className=\"mb-3 border-purple-200 dark:border-purple-800 bg-purple-50/50 dark:bg-purple-900/10\">\n            <CardContent className=\"py-4\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <div className=\"flex items-center gap-3\">\n                  <PiggyBank className=\"h-6 w-6 text-purple-600\" />\n                  <div>\n                    <p className=\"font-semibold text-gray-900 dark:text-gray-100\">Emergency Fund</p>\n                    <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                      {formatCurrency(plan.emergencyFundCurrent)} / {formatCurrency(plan.emergencyFundTarget)}\n                    </p>\n                  </div>\n                </div>\n              </div>\n              <ProgressBar\n                progress={plan.emergencyFundCurrent / plan.emergencyFundTarget}\n                label=\"Progress to Goal\"\n                color=\"emerald\"\n              />\n            </CardContent>\n          </Card>\n\n          <ChecklistItem\n            step={adjusted.savingsStep}\n            isCompleted={completedSteps.has(adjusted.savingsStep.id)}\n            onToggle={() => handleToggleStep(adjusted.savingsStep!)}\n            isLoading={processingStep === adjusted.savingsStep.id}\n          />\n          {lifeHappenedAmount > 0 && plan.savingsStep && (\n            <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2 ml-2\">\n              Reduced from {formatCurrency(plan.savingsStep.amount)} due to life adjustment\n            </p>\n          )}\n        </div>\n      )}\n\n      {/* Payoff Progress */}\n      {plan.payoffProgress.targetDate && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <TrendingDown className=\"h-5 w-5 text-emerald-600\" />\n              Path to Debt Freedom\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <p className=\"text-xs text-gray-500 uppercase tracking-wide\">Current Debt</p>\n                <p className=\"text-xl font-semibold text-gray-900 dark:text-gray-100\">\n                  {formatCurrency(plan.payoffProgress.currentDebt)}\n                </p>\n              </div>\n              <div>\n                <p className=\"text-xs text-gray-500 uppercase tracking-wide\">Target Date</p>\n                <p className=\"text-xl font-semibold text-gray-900 dark:text-gray-100\">\n                  {format(new Date(plan.payoffProgress.targetDate), \"MMM yyyy\")}\n                </p>\n              </div>\n            </div>\n\n            {plan.payoffProgress.debtPaid !== undefined && plan.payoffProgress.startDebt && (\n              <div>\n                <div className=\"flex justify-between text-sm mb-1\">\n                  <span className=\"text-gray-600 dark:text-gray-400\">Debt Paid Off</span>\n                  <span className=\"font-medium text-emerald-600 dark:text-emerald-400\">\n                    {formatCurrency(plan.payoffProgress.debtPaid)}\n                  </span>\n                </div>\n                <ProgressBar\n                  progress={plan.payoffProgress.debtProgressPct ?? 0}\n                  label=\"Debt Progress\"\n                  color=\"emerald\"\n                />\n              </div>\n            )}\n\n            {plan.payoffProgress.timeProgressPct !== undefined && (\n              <ProgressBar\n                progress={plan.payoffProgress.timeProgressPct}\n                label=\"Time Elapsed\"\n                color=\"blue\"\n              />\n            )}\n\n            {plan.payoffProgress.onTrack !== undefined && (\n              <div className={`flex items-center gap-2 p-3 rounded-lg ${\n                plan.payoffProgress.onTrack \n                  ? \"bg-emerald-50 dark:bg-emerald-900/20\" \n                  : \"bg-amber-50 dark:bg-amber-900/20\"\n              }`}>\n                {plan.payoffProgress.onTrack ? (\n                  <>\n                    <CheckCircle2 className=\"h-5 w-5 text-emerald-600\" />\n                    <span className=\"font-medium text-emerald-700 dark:text-emerald-400\">\n                      You're on track! Keep it up!\n                    </span>\n                  </>\n                ) : (\n                  <>\n                    <AlertTriangle className=\"h-5 w-5 text-amber-600\" />\n                    <span className=\"font-medium text-amber-700 dark:text-amber-400\">\n                      Slightly behind - focus on extra payments\n                    </span>\n                  </>\n                )}\n              </div>\n            )}\n\n            {plan.payoffProgress.monthsRemaining && plan.payoffProgress.monthsRemaining > 0 && (\n              <p className=\"text-center text-gray-600 dark:text-gray-400\">\n                <span className=\"font-semibold text-gray-900 dark:text-gray-100\">\n                  {plan.payoffProgress.monthsRemaining}\n                </span>{\" \"}\n                months until target date\n              </p>\n            )}\n          </CardContent>\n        </Card>\n      )}\n\n      {/* All Done! */}\n      {completionPct === 100 && (\n        <Card variant=\"outlined\" className=\"border-emerald-300 dark:border-emerald-700 bg-emerald-50 dark:bg-emerald-900/20\">\n          <CardContent className=\"py-8 text-center\">\n            <CheckCircle2 className=\"h-16 w-16 text-emerald-600 mx-auto mb-4\" />\n            <h2 className=\"text-2xl font-bold text-emerald-800 dark:text-emerald-200 mb-2\">\n              All Done!\n            </h2>\n            <p className=\"text-emerald-700 dark:text-emerald-300\">\n              You've completed all tasks for this pay period. Great job staying on track!\n            </p>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n","---\nimport DashboardLayout from '../../../layouts/DashboardLayout.astro';\nimport { PaycheckPlanView } from '../../../components/paycheck-plan/PaycheckPlanView';\nimport { getSession } from '../../../lib/get-session-astro';\n\nconst session = await getSession(Astro.request);\nif (!session?.user?.id) {\n  return Astro.redirect('/login');\n}\n---\n<DashboardLayout \n  title=\"Paycheck Plan\" \n  currentPath=\"/dashboard/paycheck-plan\"\n  user={session.user}\n>\n  <div class=\"space-y-6 animate-fade-in\">\n    <header class=\"hidden lg:block\">\n      <h1 class=\"text-2xl font-bold text-gray-900 dark:text-gray-100 tracking-tight\">\n        Paycheck Plan\n      </h1>\n      <p class=\"text-gray-600 dark:text-gray-400 mt-1\">\n        Your step-by-step guide to allocating this paycheck\n      </p>\n    </header>\n\n    <PaycheckPlanView client:load />\n  </div>\n</DashboardLayout>\n"],"names":["$$createAstro","$$createComponent","Astro","$$render","$$renderComponent","DashboardLayout","$$result","$$maybeRenderHead"],"mappings":"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"}