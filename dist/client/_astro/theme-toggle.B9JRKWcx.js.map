{"version":3,"file":"theme-toggle.B9JRKWcx.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/monitor.js","../../../node_modules/lucide-react/dist/esm/icons/moon.js","../../../node_modules/lucide-react/dist/esm/icons/sun.js","../../../src/lib/theme-context.tsx","../../../src/components/ui/theme-toggle.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.555.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"20\", height: \"14\", x: \"2\", y: \"3\", rx: \"2\", key: \"48i651\" }],\n  [\"line\", { x1: \"8\", x2: \"16\", y1: \"21\", y2: \"21\", key: \"1svkeh\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"17\", y2: \"21\", key: \"vw1qmm\" }]\n];\nconst Monitor = createLucideIcon(\"monitor\", __iconNode);\n\nexport { __iconNode, Monitor as default };\n//# sourceMappingURL=monitor.js.map\n","/**\n * @license lucide-react v0.555.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401\",\n      key: \"kfwtm\"\n    }\n  ]\n];\nconst Moon = createLucideIcon(\"moon\", __iconNode);\n\nexport { __iconNode, Moon as default };\n//# sourceMappingURL=moon.js.map\n","/**\n * @license lucide-react v0.555.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"4\", key: \"4exip2\" }],\n  [\"path\", { d: \"M12 2v2\", key: \"tus03m\" }],\n  [\"path\", { d: \"M12 20v2\", key: \"1lh1kg\" }],\n  [\"path\", { d: \"m4.93 4.93 1.41 1.41\", key: \"149t6j\" }],\n  [\"path\", { d: \"m17.66 17.66 1.41 1.41\", key: \"ptbguv\" }],\n  [\"path\", { d: \"M2 12h2\", key: \"1t8f8n\" }],\n  [\"path\", { d: \"M20 12h2\", key: \"1q8mjw\" }],\n  [\"path\", { d: \"m6.34 17.66-1.41 1.41\", key: \"1m8zz5\" }],\n  [\"path\", { d: \"m19.07 4.93-1.41 1.41\", key: \"1shlcs\" }]\n];\nconst Sun = createLucideIcon(\"sun\", __iconNode);\n\nexport { __iconNode, Sun as default };\n//# sourceMappingURL=sun.js.map\n","import { createContext, useContext, useEffect, useState, type ReactNode } from \"react\";\n\ntype Mode = \"light\" | \"dark\" | \"system\";\ntype AccentColor = \"chase\" | \"blue\" | \"purple\" | \"orange\" | \"pink\";\n\ninterface ThemeContextType {\n  mode: Mode;\n  setMode: (mode: Mode) => void;\n  accentColor: AccentColor;\n  setAccentColor: (color: AccentColor) => void;\n  resolvedMode: \"light\" | \"dark\";\n}\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\nfunction getSystemTheme(): \"light\" | \"dark\" {\n  if (typeof window === \"undefined\") return \"dark\";\n  return window.matchMedia(\"(prefers-color-scheme: dark)\").matches\n    ? \"dark\"\n    : \"light\";\n}\n\nexport function ThemeProvider({ children }: { children: ReactNode }) {\n  const [mode, setModeState] = useState<Mode>(\"system\");\n  const [accentColor, setAccentColorState] = useState<AccentColor>(\"chase\");\n  const [resolvedMode, setResolvedMode] = useState<\"light\" | \"dark\">(\"dark\");\n  const [mounted, setMounted] = useState(false);\n\n  // Load saved preferences on mount\n  useEffect(() => {\n    const savedMode = localStorage.getItem(\"theme-mode\") as Mode | null;\n    const savedAccent = localStorage.getItem(\n      \"theme-accent\"\n    ) as AccentColor | null;\n\n    if (savedMode) setModeState(savedMode);\n    if (savedAccent) setAccentColorState(savedAccent);\n    setMounted(true);\n  }, []);\n\n  // Resolve the actual theme based on mode\n  useEffect(() => {\n    if (!mounted) return;\n\n    const updateResolvedMode = () => {\n      const resolved = mode === \"system\" ? getSystemTheme() : mode;\n      setResolvedMode(resolved);\n\n      // Apply to document\n      const root = document.documentElement;\n      root.classList.remove(\"light\", \"dark\");\n      root.classList.add(resolved);\n    };\n\n    updateResolvedMode();\n\n    // Listen for system theme changes\n    if (mode === \"system\") {\n      const mediaQuery = window.matchMedia(\"(prefers-color-scheme: dark)\");\n      const handler = () => updateResolvedMode();\n      mediaQuery.addEventListener(\"change\", handler);\n      return () => mediaQuery.removeEventListener(\"change\", handler);\n    }\n  }, [mode, mounted]);\n\n  // Apply accent color class\n  useEffect(() => {\n    if (!mounted) return;\n\n    const root = document.documentElement;\n    root.classList.remove(\n      \"accent-chase\",\n      \"accent-blue\",\n      \"accent-purple\",\n      \"accent-orange\",\n      \"accent-pink\"\n    );\n    root.classList.add(`accent-${accentColor}`);\n  }, [accentColor, mounted]);\n\n  const setMode = (newMode: Mode) => {\n    setModeState(newMode);\n    localStorage.setItem(\"theme-mode\", newMode);\n    \n    // Immediately apply theme to prevent flicker/delay\n    const resolved = newMode === \"system\" ? getSystemTheme() : newMode;\n    setResolvedMode(resolved);\n    const root = document.documentElement;\n    root.classList.remove(\"light\", \"dark\");\n    root.classList.add(resolved);\n  };\n\n  const setAccentColor = (newColor: AccentColor) => {\n    setAccentColorState(newColor);\n    localStorage.setItem(\"theme-accent\", newColor);\n  };\n\n  // Always provide context, but use default values before mounted\n  const value: ThemeContextType = {\n    mode,\n    setMode,\n    accentColor,\n    setAccentColor,\n    resolvedMode,\n  };\n\n  return (\n    <ThemeContext.Provider value={value}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useTheme() {\n  const context = useContext(ThemeContext);\n  if (context === undefined) {\n    throw new Error(\"useTheme must be used within a ThemeProvider\");\n  }\n  return context;\n}\n","import { Sun, Moon, Monitor } from \"lucide-react\";\nimport { useTheme } from \"@/lib/theme-context\";\n\ntype Mode = \"light\" | \"dark\" | \"system\";\n\nconst modes: { value: Mode; icon: typeof Sun; label: string }[] = [\n  { value: \"light\", icon: Sun, label: \"Light\" },\n  { value: \"dark\", icon: Moon, label: \"Dark\" },\n  { value: \"system\", icon: Monitor, label: \"System\" },\n];\n\nexport function ThemeToggle() {\n  const { mode, setMode } = useTheme();\n\n  return (\n    <div className=\"flex items-center gap-1 p-1 rounded-xl bg-theme-tertiary\">\n      {modes.map(({ value, icon: Icon, label }) => (\n        <button\n          key={value}\n          onClick={() => setMode(value)}\n          className={`\n            flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium\n            transition-all duration-200\n            ${mode === value\n              ? \"bg-theme-elevated text-theme-primary shadow-sm\"\n              : \"text-theme-secondary hover:text-theme-primary\"\n            }\n          `}\n          title={label}\n        >\n          <Icon className=\"h-4 w-4\" />\n          <span className=\"hidden sm:inline\">{label}</span>\n        </button>\n      ))}\n    </div>\n  );\n}\n\nexport function ThemeToggleCompact() {\n  const { resolvedMode, mode, setMode } = useTheme();\n\n  const cycleMode = () => {\n    const modeOrder: Mode[] = [\"light\", \"dark\", \"system\"];\n    const currentIndex = modeOrder.indexOf(mode);\n    const nextIndex = (currentIndex + 1) % modeOrder.length;\n    setMode(modeOrder[nextIndex]);\n  };\n\n  const Icon =\n    mode === \"system\" ? Monitor : resolvedMode === \"dark\" ? Moon : Sun;\n\n  return (\n    <button\n      onClick={cycleMode}\n      className=\"p-2.5 rounded-xl text-theme-secondary hover:bg-theme-tertiary hover:text-theme-primary transition-all duration-200\"\n      title={`Theme: ${mode}`}\n      aria-label={`Current theme: ${mode}. Click to change.`}\n    >\n      <Icon className=\"h-5 w-5\" />\n    </button>\n  );\n}\n"],"names":["__iconNode","Monitor","createLucideIcon","Moon","Sun","ThemeContext","createContext","getSystemTheme","ThemeProvider","children","mode","setModeState","useState","accentColor","setAccentColorState","resolvedMode","setResolvedMode","mounted","setMounted","useEffect","savedMode","savedAccent","updateResolvedMode","resolved","root","mediaQuery","handler","value","newMode","newColor","jsx","useTheme","context","useContext","modes","ThemeToggle","setMode","Icon","label","jsxs","ThemeToggleCompact","cycleMode","modeOrder","nextIndex"],"mappings":"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","x_google_ignoreList":[0,1,2]}