{"version":3,"file":"new-goal-form.C2SxhZAA.js","sources":["../../../src/components/forms/new-goal-form.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { ArrowLeft } from \"lucide-react\";\n\nexport default function NewGoalForm() {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const [formData, setFormData] = useState({\n    name: \"\",\n    targetAmount: \"\",\n    currentAmount: \"\",\n    deadline: \"\",\n    notes: \"\",\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setIsSubmitting(true);\n\n    try {\n      const res = await fetch(\"/api/goals\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          name: formData.name,\n          targetAmount: parseFloat(formData.targetAmount),\n          currentAmount: formData.currentAmount ? parseFloat(formData.currentAmount) : 0,\n          deadline: formData.deadline || null,\n          notes: formData.notes || null,\n        }),\n      });\n\n      if (!res.ok) {\n        const data = await res.json();\n        throw new Error(data.error || \"Failed to create goal\");\n      }\n\n      window.location.href = \"/dashboard/goals\";\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Something went wrong\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n  ) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  };\n\n  const inputClasses =\n    \"w-full px-4 py-2 bg-theme-secondary border border-theme rounded-xl text-theme-primary placeholder-theme-muted focus:outline-none focus:ring-2 focus:ring-accent-500/20 focus:border-accent-500\";\n\n  return (\n    <div className=\"animate-fade-in space-y-6 lg:space-y-8\">\n      <div className=\"flex items-center gap-4\">\n        <a href=\"/dashboard/goals\">\n          <Button variant=\"ghost\" size=\"sm\" leftIcon={<ArrowLeft className=\"h-4 w-4\" />}>\n            Back\n          </Button>\n        </a>\n        <div>\n          <h1 className=\"text-2xl font-bold text-theme-primary\">Add New Goal</h1>\n          <p className=\"text-theme-secondary mt-1\">Create a new savings goal to track your progress</p>\n        </div>\n      </div>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Goal Details</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {error && (\n              <div className=\"p-3 rounded-xl bg-danger-50 dark:bg-danger-600/10 border border-danger-200 dark:border-danger-600/30 text-danger-700 dark:text-danger-400 text-sm\">\n                {error}\n              </div>\n            )}\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"space-y-2\">\n                <label htmlFor=\"name\" className=\"block text-sm font-medium text-theme-secondary\">\n                  Name *\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"name\"\n                  name=\"name\"\n                  required\n                  autoFocus\n                  value={formData.name}\n                  onChange={handleChange}\n                  placeholder=\"e.g., Emergency Fund, Vacation\"\n                  className={inputClasses}\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <label htmlFor=\"targetAmount\" className=\"block text-sm font-medium text-theme-secondary\">\n                  Target Amount *\n                </label>\n                <div className=\"relative\">\n                  <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-theme-muted\">$</span>\n                  <input\n                    type=\"number\"\n                    id=\"targetAmount\"\n                    name=\"targetAmount\"\n                    required\n                    min=\"0\"\n                    step=\"0.01\"\n                    inputMode=\"decimal\"\n                    value={formData.targetAmount}\n                    onChange={handleChange}\n                    placeholder=\"0.00\"\n                    className={`${inputClasses} pl-8`}\n                  />\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <label htmlFor=\"currentAmount\" className=\"block text-sm font-medium text-theme-secondary\">\n                  Current Amount\n                </label>\n                <div className=\"relative\">\n                  <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-theme-muted\">$</span>\n                  <input\n                    type=\"number\"\n                    id=\"currentAmount\"\n                    name=\"currentAmount\"\n                    min=\"0\"\n                    step=\"0.01\"\n                    inputMode=\"decimal\"\n                    value={formData.currentAmount}\n                    onChange={handleChange}\n                    placeholder=\"0.00\"\n                    className={`${inputClasses} pl-8`}\n                  />\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <label htmlFor=\"deadline\" className=\"block text-sm font-medium text-theme-secondary\">\n                  Deadline\n                </label>\n                <input\n                  type=\"date\"\n                  id=\"deadline\"\n                  name=\"deadline\"\n                  value={formData.deadline}\n                  onChange={handleChange}\n                  className={inputClasses}\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <label htmlFor=\"notes\" className=\"block text-sm font-medium text-theme-secondary\">\n                Notes\n              </label>\n              <textarea\n                id=\"notes\"\n                name=\"notes\"\n                rows={3}\n                value={formData.notes}\n                onChange={handleChange}\n                placeholder=\"Any additional notes about this goal...\"\n                className={`${inputClasses} resize-none`}\n              />\n            </div>\n\n            <div className=\"flex gap-4 pt-4\">\n              <Button type=\"submit\" disabled={isSubmitting}>\n                {isSubmitting ? \"Creating...\" : \"Create Goal\"}\n              </Button>\n              <a href=\"/dashboard/goals\">\n                <Button type=\"button\" variant=\"secondary\">\n                  Cancel\n                </Button>\n              </a>\n            </div>\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":["NewGoalForm","isSubmitting","setIsSubmitting","useState","error","setError","formData","setFormData","handleSubmit","e","res","data","err","handleChange","name","value","prev","inputClasses","jsxs","jsx","Button","ArrowLeft","Card","CardHeader","CardTitle","CardContent"],"mappings":"+QAKA,SAAwBA,GAAc,CACpC,KAAM,CAACC,EAAcC,CAAe,EAAIC,EAAAA,SAAS,EAAK,EAChD,CAACC,EAAOC,CAAQ,EAAIF,EAAAA,SAAS,EAAE,EAE/B,CAACG,EAAUC,CAAW,EAAIJ,WAAS,CACvC,KAAM,GACN,aAAc,GACd,cAAe,GACf,SAAU,GACV,MAAO,EAAA,CACR,EAEKK,EAAe,MAAOC,GAAuB,CACjDA,EAAE,eAAA,EACFJ,EAAS,EAAE,EACXH,EAAgB,EAAI,EAEpB,GAAI,CACF,MAAMQ,EAAM,MAAM,MAAM,aAAc,CACpC,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAA,EAC3B,KAAM,KAAK,UAAU,CACnB,KAAMJ,EAAS,KACf,aAAc,WAAWA,EAAS,YAAY,EAC9C,cAAeA,EAAS,cAAgB,WAAWA,EAAS,aAAa,EAAI,EAC7E,SAAUA,EAAS,UAAY,KAC/B,MAAOA,EAAS,OAAS,IAAA,CAC1B,CAAA,CACF,EAED,GAAI,CAACI,EAAI,GAAI,CACX,MAAMC,EAAO,MAAMD,EAAI,KAAA,EACvB,MAAM,IAAI,MAAMC,EAAK,OAAS,uBAAuB,CACvD,CAEA,OAAO,SAAS,KAAO,kBACzB,OAASC,EAAK,CACZP,EAASO,aAAe,MAAQA,EAAI,QAAU,sBAAsB,CACtE,QAAA,CACEV,EAAgB,EAAK,CACvB,CACF,EAEMW,EACJJ,GACG,CACH,KAAM,CAAE,KAAAK,EAAM,MAAAC,CAAA,EAAUN,EAAE,OAC1BF,EAAaS,IAAU,CACrB,GAAGA,EACH,CAACF,CAAI,EAAGC,CAAA,EACR,CACJ,EAEME,EACJ,iMAEF,OACEC,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,MAAC,KAAE,KAAK,mBACN,SAAAA,EAAAA,IAACC,EAAA,CAAO,QAAQ,QAAQ,KAAK,KAAK,eAAWC,EAAA,CAAU,UAAU,SAAA,CAAU,EAAI,gBAE/E,EACF,SACC,MAAA,CACC,SAAA,CAAAF,EAAAA,IAAC,KAAA,CAAG,UAAU,wCAAwC,SAAA,eAAY,EAClEA,EAAAA,IAAC,IAAA,CAAE,UAAU,4BAA4B,SAAA,kDAAA,CAAgD,CAAA,CAAA,CAC3F,CAAA,EACF,SAECG,EAAA,CACC,SAAA,CAAAH,MAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAU,SAAA,cAAA,CAAY,EACzB,QACCC,EAAA,CACC,SAAAP,OAAC,QAAK,SAAUV,EAAc,UAAU,YACrC,SAAA,CAAAJ,GACCe,EAAAA,IAAC,MAAA,CAAI,UAAU,oJACZ,SAAAf,EACH,EAGFc,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,MAAC,QAAA,CAAM,QAAQ,OAAO,UAAU,iDAAiD,SAAA,SAEjF,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,GAAG,OACH,KAAK,OACL,SAAQ,GACR,UAAS,GACT,MAAOb,EAAS,KAChB,SAAUO,EACV,YAAY,iCACZ,UAAWI,CAAA,CAAA,CACb,EACF,EAEAC,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,MAAC,QAAA,CAAM,QAAQ,eAAe,UAAU,iDAAiD,SAAA,kBAEzF,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,WACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,4DAA4D,SAAA,IAAC,EAC7EA,EAAAA,IAAC,QAAA,CACC,KAAK,SACL,GAAG,eACH,KAAK,eACL,SAAQ,GACR,IAAI,IACJ,KAAK,OACL,UAAU,UACV,MAAOb,EAAS,aAChB,SAAUO,EACV,YAAY,OACZ,UAAW,GAAGI,CAAY,OAAA,CAAA,CAC5B,CAAA,CACF,CAAA,EACF,EAEAC,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,MAAC,QAAA,CAAM,QAAQ,gBAAgB,UAAU,iDAAiD,SAAA,iBAE1F,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,WACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,4DAA4D,SAAA,IAAC,EAC7EA,EAAAA,IAAC,QAAA,CACC,KAAK,SACL,GAAG,gBACH,KAAK,gBACL,IAAI,IACJ,KAAK,OACL,UAAU,UACV,MAAOb,EAAS,cAChB,SAAUO,EACV,YAAY,OACZ,UAAW,GAAGI,CAAY,OAAA,CAAA,CAC5B,CAAA,CACF,CAAA,EACF,EAEAC,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,MAAC,QAAA,CAAM,QAAQ,WAAW,UAAU,iDAAiD,SAAA,WAErF,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,GAAG,WACH,KAAK,WACL,MAAOb,EAAS,SAChB,SAAUO,EACV,UAAWI,CAAA,CAAA,CACb,CAAA,CACF,CAAA,EACF,EAEAC,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,MAAC,QAAA,CAAM,QAAQ,QAAQ,UAAU,iDAAiD,SAAA,QAElF,EACAA,EAAAA,IAAC,WAAA,CACC,GAAG,QACH,KAAK,QACL,KAAM,EACN,MAAOb,EAAS,MAChB,SAAUO,EACV,YAAY,0CACZ,UAAW,GAAGI,CAAY,cAAA,CAAA,CAC5B,EACF,EAEAC,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAC,EAAAA,IAACC,GAAO,KAAK,SAAS,SAAUnB,EAC7B,SAAAA,EAAe,cAAgB,aAAA,CAClC,EACAkB,EAAAA,IAAC,IAAA,CAAE,KAAK,mBACN,SAAAA,EAAAA,IAACC,EAAA,CAAO,KAAK,SAAS,QAAQ,YAAY,SAAA,QAAA,CAE1C,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,CAEJ"}