import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.Cd_vQiNd.js";import{C as m,c as x,a as V,b as G}from"./card.CxXQM9B9.js";import{T as j,f as N}from"./format.moOp0hPg.js";import{W as F}from"./wallet.-jnlrgP3.js";import{L as X}from"./loader-circle.k_JR3RqT.js";import{C as U}from"./check.D23q9GVG.js";import{c as k}from"./createLucideIcon.DV6VgPWa.js";import{T as q}from"./target.BCJb0dyN.js";import{P as _}from"./piggy-bank.63Q_NMAF.js";import{T as z}from"./trending-down.Cc3M3PIz.js";import{C as M}from"./circle-check.DAlLMW5e.js";import{Z as W}from"./zap.BXKQm3Pc.js";import{C as Z}from"./credit-card.BTOJU1Ei.js";/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Q=k("arrow-right",K);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],te=k("circle",ee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],se=k("heart",ae);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],le=k("info",re);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],de=k("rotate-ccw",ne);function s(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(t)}function T({step:t,isCompleted:d,onToggle:h,isLoading:p}){const g=()=>{switch(t.type){case"TRANSFER":return e.jsx(Q,{className:"h-5 w-5"});case"BILL_PAYMENT":return e.jsx(Z,{className:"h-5 w-5"});case"EXTRA_DEBT_PAYMENT":return e.jsx(W,{className:"h-5 w-5"});case"SAVINGS_TRANSFER":return e.jsx(_,{className:"h-5 w-5"});default:return e.jsx(F,{className:"h-5 w-5"})}},u=()=>{if(d)return"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800";switch(t.type){case"TRANSFER":return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800";case"BILL_PAYMENT":return"bg-white dark:bg-[#1c2128] border-gray-200 dark:border-[#30363d]";case"EXTRA_DEBT_PAYMENT":return"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800";case"SAVINGS_TRANSFER":return"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800";default:return"bg-white dark:bg-[#1c2128] border-gray-200 dark:border-[#30363d]"}},c=()=>{if(d)return"text-emerald-600 dark:text-emerald-400";switch(t.type){case"TRANSFER":return"text-blue-600 dark:text-blue-400";case"EXTRA_DEBT_PAYMENT":return"text-amber-600 dark:text-amber-400";case"SAVINGS_TRANSFER":return"text-purple-600 dark:text-purple-400";default:return"text-gray-600 dark:text-gray-400"}};return e.jsxs("div",{onClick:()=>!p&&h(),className:`
        flex items-start gap-4 p-4 rounded-xl border-2 cursor-pointer
        transition-all duration-200 hover:shadow-md
        ${u()}
        ${d?"opacity-75":""}
      `,children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:p?e.jsx("div",{className:"h-6 w-6 rounded-full border-2 border-gray-300 border-t-blue-600 animate-spin"}):d?e.jsx(M,{className:"h-6 w-6 text-emerald-600 dark:text-emerald-400"}):e.jsx(te,{className:"h-6 w-6 text-gray-400 dark:text-gray-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:c(),children:g()}),e.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-400",children:t.type.replace(/_/g," ")})]}),e.jsx("p",{className:`font-medium ${d?"line-through text-gray-500":"text-gray-900 dark:text-gray-100"}`,children:t.label}),t.dueDate&&e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Due: ",N(new Date(t.dueDate),"MMM d, yyyy")]})]}),e.jsx("div",{className:"flex-shrink-0 text-right",children:e.jsx("p",{className:`text-lg font-semibold ${d?"text-gray-500 line-through":"text-gray-900 dark:text-gray-100"}`,children:s(t.amount)})})]})}function E({progress:t,label:d,color:h="blue"}){const p={blue:"bg-blue-600 dark:bg-blue-500",emerald:"bg-emerald-600 dark:bg-emerald-500",amber:"bg-amber-600 dark:bg-amber-500"};return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:d}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:[(t*100).toFixed(1),"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${p[h]} transition-all duration-500`,style:{width:`${Math.min(100,t*100)}%`}})})]})}function ie({amount:t,onAmountChange:d,onReset:h,maxAmount:p}){const[g,u]=i.useState(t>0?t.toString():""),c=b=>{const y=b.target.value.replace(/[^0-9.]/g,"");u(y);const n=parseFloat(y);!isNaN(n)&&n>=0?d(Math.min(n,p)):y===""&&d(0)},f=()=>{u(""),h()};return e.jsx(m,{variant:"outlined",className:"border-rose-200 dark:border-rose-800 bg-rose-50/50 dark:bg-rose-900/10",children:e.jsx(x,{className:"py-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(se,{className:"h-5 w-5 text-rose-500 flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:"Life Happened?"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Unexpected expense this period? Enter it here and we'll adjust your plan. No judgment."}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1 max-w-[200px]",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"text",inputMode:"decimal",value:g,onChange:c,placeholder:"0.00",className:`w-full pl-7 pr-3 py-2 rounded-lg border border-rose-200 dark:border-rose-700 
                    bg-white dark:bg-[#1c2128] text-gray-900 dark:text-gray-100
                    focus:ring-2 focus:ring-rose-500 focus:border-transparent
                    placeholder:text-gray-400`})]}),t>0&&e.jsxs("button",{onClick:f,className:`flex items-center gap-1.5 px-3 py-2 text-sm font-medium
                    text-rose-600 dark:text-rose-400 hover:bg-rose-100 dark:hover:bg-rose-900/30
                    rounded-lg transition-colors`,children:[e.jsx(de,{className:"h-4 w-4"}),"Reset"]})]}),t>0&&e.jsxs("p",{className:"text-sm text-rose-600 dark:text-rose-400 mt-2",children:["Adjusting plan by −",s(t)]})]})]})})})}function ve(){const[t,d]=i.useState(null),[h,p]=i.useState(!0),[g,u]=i.useState(null),[c,f]=i.useState(new Set),[b,y]=i.useState(null),[n,D]=i.useState(0),[C,R]=i.useState(null);i.useEffect(()=>{v()},[]),i.useEffect(()=>{if(!t)return;const a=localStorage.getItem("paycheck-plan-completed");if(a)try{const o=JSON.parse(a);o.periodStart===t.period.startDate&&f(new Set(o.steps))}catch{}const r=localStorage.getItem("paycheck-plan-life-happened");if(r)try{const o=JSON.parse(r);o.periodStart===t.period.startDate&&D(o.amount||0)}catch{}},[t?.period.startDate]),i.useEffect(()=>{t&&localStorage.setItem("paycheck-plan-completed",JSON.stringify({periodStart:t.period.startDate,steps:Array.from(c)}))},[c,t]),i.useEffect(()=>{t&&localStorage.setItem("paycheck-plan-life-happened",JSON.stringify({periodStart:t.period.startDate,amount:n}))},[n,t]);const l=i.useMemo(()=>{if(!t)return null;const a=t.surplusSplit.surplus,r=a-n,o=r<=0;t.debtSurplusPercent;const Y=t.savingsSurplusPercent??.2;let A=0,P=0;if(!o){const J=Math.max(0,t.emergencyFundTarget-t.emergencyFundCurrent);P=Math.min(r*Y,J),A=r-P}const O=t.extraDebtStep?{...t.extraDebtStep,amount:Math.max(0,A)}:void 0,H=t.savingsStep?{...t.savingsStep,amount:Math.max(0,P)}:void 0;return{surplusSplit:{surplus:r,savingsAllocation:P,debtAllocation:A,isNegative:o},extraDebtStep:O,savingsStep:H,originalSurplus:a}},[t,n]),I=a=>{D(a)},L=()=>{D(0)};async function B(a){R(a);try{if(!(await fetch(`/api/bill-payments/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"PAID"})})).ok)throw new Error("Failed to mark payment as paid");await v()}catch(r){console.error("Failed to mark past-due payment as paid:",r)}finally{R(null)}}async function v(){try{p(!0);const a=await fetch("/api/paycheck-plan");if(!a.ok)throw new Error("Failed to fetch plan");const r=await a.json();d(r)}catch(a){u(a instanceof Error?a.message:"Failed to load plan")}finally{p(!1)}}async function w(a){if(c.has(a.id)){f(r=>{const o=new Set(r);return o.delete(a.id),o});return}y(a.id);try{a.type==="BILL_PAYMENT"&&a.billPaymentId?await fetch(`/api/bill-payments/${a.billPaymentId}/pay`,{method:"POST"}):a.type==="EXTRA_DEBT_PAYMENT"&&a.debtId?await fetch("/api/paycheck-plan/extra-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({debtId:a.debtId,amount:a.amount})}):a.type==="SAVINGS_TRANSFER"&&await fetch("/api/paycheck-plan/emergency-fund",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:a.amount})}),f(r=>new Set([...r,a.id])),(a.type==="EXTRA_DEBT_PAYMENT"||a.type==="BILL_PAYMENT")&&v()}catch(r){console.error("Failed to process step:",r)}finally{y(null)}}if(h)return e.jsxs("div",{className:"space-y-4 animate-pulse",children:[e.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded-xl"}),e.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded-xl"}),e.jsx("div",{className:"h-48 bg-gray-200 dark:bg-gray-700 rounded-xl"})]});if(g||!t)return e.jsx(m,{variant:"outlined",className:"border-red-200 dark:border-red-800",children:e.jsxs(x,{className:"py-8 text-center",children:[e.jsx(j,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium",children:g||"Failed to load plan"}),e.jsx("button",{onClick:v,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]})});const $=`${N(new Date(t.period.startDate),"MMM d")} - ${N(new Date(t.period.endDate),"MMM d, yyyy")}`,S=t.steps.length>0?c.size/t.steps.length*100:0;return e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{variant:"gradient",className:"relative overflow-hidden",children:e.jsxs(x,{className:"py-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(F,{className:"h-5 w-5 text-white/80"}),e.jsx("span",{className:"text-sm text-white/80 font-medium",children:"Paycheck Plan"})]}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-1",children:s(t.paycheckAmount)}),e.jsx("p",{className:"text-white/70",children:$}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 sm:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/60 uppercase tracking-wide",children:"Total Bills"}),e.jsx("p",{className:"text-lg font-semibold text-white",children:s(t.totalBillsThisPeriod)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/60 uppercase tracking-wide",children:"Remaining"}),e.jsx("p",{className:"text-lg font-semibold text-amber-300",children:s(t.billsRemainingThisPeriod)}),t.billsPaidThisPeriod>0&&e.jsxs("p",{className:"text-xs text-white/50",children:[s(t.billsPaidThisPeriod)," paid"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/60 uppercase tracking-wide",children:"Spending"}),e.jsx("p",{className:"text-lg font-semibold text-white",children:s(t.discretionaryThisPaycheck)})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-white/60 uppercase tracking-wide",children:["True Surplus",n>0?" (Adjusted)":""]}),e.jsx("p",{className:`text-lg font-semibold ${l?.surplusSplit.isNegative?"text-red-300":"text-emerald-300"}`,children:s(l?.surplusSplit.surplus??t.surplusSplit.surplus)}),n>0&&e.jsx("p",{className:"text-xs text-white/50 line-through",children:s(t.surplusSplit.surplus)})]})]}),S>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-xs text-white/70 mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[S.toFixed(0),"% complete"]})]}),e.jsx("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-white transition-all duration-500",style:{width:`${S}%`}})})]})]})}),!t.surplusSplit.isNegative&&t.surplusSplit.surplus>0&&e.jsx(ie,{amount:n,onAmountChange:I,onReset:L,maxAmount:t.surplusSplit.surplus}),l?.surplusSplit.isNegative&&!t.surplusSplit.isNegative&&e.jsx(m,{variant:"outlined",className:"border-amber-300 dark:border-amber-800 bg-amber-50 dark:bg-amber-900/20",children:e.jsx(x,{className:"py-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(j,{className:"h-6 w-6 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"After adjustments, no surplus remains"}),e.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300 mt-1",children:["Your surprise expense of ",s(n)," uses all your surplus. Extra debt and savings steps will be skipped this period."]})]})]})})}),t.surplusSplit.isNegative&&e.jsx(m,{variant:"outlined",className:"border-red-300 dark:border-red-800 bg-red-50 dark:bg-red-900/20",children:e.jsx(x,{className:"py-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(j,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-red-800 dark:text-red-200",children:["You're short ",s(Math.abs(t.surplusSplit.surplus))," this paycheck"]}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:"Your bills and spending budget exceed your paycheck. Consider which payments can be delayed or reduced."})]})]})})}),t.unpaidPayments&&t.unpaidPayments.length>0&&e.jsx(m,{variant:"outlined",className:"border-orange-200 dark:border-orange-800 bg-orange-50 dark:bg-orange-900/20",children:e.jsx(x,{className:"py-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(j,{className:"h-5 w-5 text-orange-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-medium text-orange-800 dark:text-orange-200",children:[t.unpaidPayments.length," bill",t.unpaidPayments.length>1?"s":""," from previous periods"]}),e.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300 mt-1 mb-3",children:"Mark as paid when you've caught up on these bills."}),e.jsx("div",{className:"space-y-2",children:t.unpaidPayments.map(a=>e.jsxs("div",{className:"flex items-center justify-between gap-3 p-2 rounded-lg bg-white/50 dark:bg-[#1c2128]/50",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:a.bill.name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Due ",N(new Date(a.dueDate),"MMM d")," · ",s(a.amount)]})]}),e.jsxs("button",{onClick:()=>B(a.id),disabled:C===a.id,className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg 
                          bg-orange-600 text-white hover:bg-orange-700 
                          disabled:opacity-50 disabled:cursor-not-allowed
                          transition-colors`,children:[C===a.id?e.jsx(X,{className:"h-3.5 w-3.5 animate-spin"}):e.jsx(U,{className:"h-3.5 w-3.5"}),"Paid"]})]},a.id))})]})]})})}),e.jsxs("div",{className:"flex items-start gap-2 px-1",children:[e.jsx(le,{className:"h-4 w-4 text-gray-400 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"These checkboxes are just for your brain—nothing breaks if you skip them. Bill payments will automatically update their status when checked."})]}),t.transfers.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-sm",children:"1"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Move Money Between Accounts"})]}),e.jsx("div",{className:"space-y-3",children:t.transfers.map(a=>e.jsx(T,{step:a,isCompleted:c.has(a.id),onToggle:()=>w(a),isLoading:b===a.id},a.id))})]}),t.billPayments.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600 text-white flex items-center justify-center font-bold text-sm",children:"2"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Pay Bills (In Order)"})]}),e.jsx("div",{className:"space-y-3",children:t.billPayments.map(a=>e.jsx(T,{step:a,isCompleted:c.has(a.id),onToggle:()=>w(a),isLoading:b===a.id},a.id))})]}),l?.extraDebtStep&&l.extraDebtStep.amount>0&&t.avalancheTarget&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-600 text-white flex items-center justify-center font-bold text-sm",children:"3"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Extra Debt Attack (Avalanche)"})]}),e.jsx(m,{variant:"outlined",className:"mb-3 border-amber-200 dark:border-amber-800 bg-amber-50/50 dark:bg-amber-900/10",children:e.jsxs(x,{className:"py-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(q,{className:"h-6 w-6 text-amber-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:["Target: ",t.avalancheTarget.debtName]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.avalancheTarget.interestRate.toFixed(2),"% APR • Balance: ",s(t.avalancheTarget.currentBalance)]})]})]}),e.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-400",children:"This is your highest-APR debt. Every extra dollar here saves you the most in interest."})]})}),e.jsx(T,{step:l.extraDebtStep,isCompleted:c.has(l.extraDebtStep.id),onToggle:()=>w(l.extraDebtStep),isLoading:b===l.extraDebtStep.id}),n>0&&t.extraDebtStep&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 ml-2",children:["Reduced from ",s(t.extraDebtStep.amount)," due to life adjustment"]})]}),l?.savingsStep&&l.savingsStep.amount>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-600 text-white flex items-center justify-center font-bold text-sm",children:"4"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Build Emergency Fund"})]}),e.jsx(m,{variant:"outlined",className:"mb-3 border-purple-200 dark:border-purple-800 bg-purple-50/50 dark:bg-purple-900/10",children:e.jsxs(x,{className:"py-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_,{className:"h-6 w-6 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Emergency Fund"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s(t.emergencyFundCurrent)," / ",s(t.emergencyFundTarget)]})]})]})}),e.jsx(E,{progress:t.emergencyFundCurrent/t.emergencyFundTarget,label:"Progress to Goal",color:"emerald"})]})}),e.jsx(T,{step:l.savingsStep,isCompleted:c.has(l.savingsStep.id),onToggle:()=>w(l.savingsStep),isLoading:b===l.savingsStep.id}),n>0&&t.savingsStep&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 ml-2",children:["Reduced from ",s(t.savingsStep.amount)," due to life adjustment"]})]}),t.payoffProgress.targetDate&&e.jsxs(m,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5 text-emerald-600"}),"Path to Debt Freedom"]})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Current Debt"}),e.jsx("p",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:s(t.payoffProgress.currentDebt)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Target Date"}),e.jsx("p",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:N(new Date(t.payoffProgress.targetDate),"MMM yyyy")})]})]}),t.payoffProgress.debtPaid!==void 0&&t.payoffProgress.startDebt&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Debt Paid Off"}),e.jsx("span",{className:"font-medium text-emerald-600 dark:text-emerald-400",children:s(t.payoffProgress.debtPaid)})]}),e.jsx(E,{progress:t.payoffProgress.debtProgressPct??0,label:"Debt Progress",color:"emerald"})]}),t.payoffProgress.timeProgressPct!==void 0&&e.jsx(E,{progress:t.payoffProgress.timeProgressPct,label:"Time Elapsed",color:"blue"}),t.payoffProgress.onTrack!==void 0&&e.jsx("div",{className:`flex items-center gap-2 p-3 rounded-lg ${t.payoffProgress.onTrack?"bg-emerald-50 dark:bg-emerald-900/20":"bg-amber-50 dark:bg-amber-900/20"}`,children:t.payoffProgress.onTrack?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"h-5 w-5 text-emerald-600"}),e.jsx("span",{className:"font-medium text-emerald-700 dark:text-emerald-400",children:"You're on track! Keep it up!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"h-5 w-5 text-amber-600"}),e.jsx("span",{className:"font-medium text-amber-700 dark:text-amber-400",children:"Slightly behind - focus on extra payments"})]})}),t.payoffProgress.monthsRemaining&&t.payoffProgress.monthsRemaining>0&&e.jsxs("p",{className:"text-center text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:t.payoffProgress.monthsRemaining})," ","months until target date"]})]})]}),S===100&&e.jsx(m,{variant:"outlined",className:"border-emerald-300 dark:border-emerald-700 bg-emerald-50 dark:bg-emerald-900/20",children:e.jsxs(x,{className:"py-8 text-center",children:[e.jsx(M,{className:"h-16 w-16 text-emerald-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-emerald-800 dark:text-emerald-200 mb-2",children:"All Done!"}),e.jsx("p",{className:"text-emerald-700 dark:text-emerald-300",children:"You've completed all tasks for this pay period. Great job staying on track!"})]})})]})}export{ve as PaycheckPlanView};
//# sourceMappingURL=PaycheckPlanView.DmInru1h.js.map
