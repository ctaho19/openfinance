import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as l}from"./index.Cd_vQiNd.js";import{C as g,a as j,b as f,c as b}from"./card.qLBZpUmG.js";import{B as d}from"./button.BRkflXfO.js";import{A as y}from"./arrow-left.CGCSNnMn.js";import"./createLucideIcon.DV6VgPWa.js";function k(){const[c,m]=l.useState(!1),[i,u]=l.useState(""),[a,h]=l.useState({name:"",targetAmount:"",currentAmount:"",deadline:"",notes:""}),x=async r=>{r.preventDefault(),u(""),m(!0);try{const t=await fetch("/api/goals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.name,targetAmount:parseFloat(a.targetAmount),currentAmount:a.currentAmount?parseFloat(a.currentAmount):0,deadline:a.deadline||null,notes:a.notes||null})});if(!t.ok){const o=await t.json();throw new Error(o.error||"Failed to create goal")}window.location.href="/dashboard/goals"}catch(t){u(t instanceof Error?t.message:"Something went wrong")}finally{m(!1)}},s=r=>{const{name:t,value:o}=r.target;h(p=>({...p,[t]:o}))},n="w-full px-4 py-2 bg-theme-secondary border border-theme rounded-xl text-theme-primary placeholder-theme-muted focus:outline-none focus:ring-2 focus:ring-accent-500/20 focus:border-accent-500";return e.jsxs("div",{className:"animate-fade-in space-y-6 lg:space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("a",{href:"/dashboard/goals",children:e.jsx(d,{variant:"ghost",size:"sm",leftIcon:e.jsx(y,{className:"h-4 w-4"}),children:"Back"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary",children:"Add New Goal"}),e.jsx("p",{className:"text-theme-secondary mt-1",children:"Create a new savings goal to track your progress"})]})]}),e.jsxs(g,{children:[e.jsx(j,{children:e.jsx(f,{children:"Goal Details"})}),e.jsx(b,{children:e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[i&&e.jsx("div",{className:"p-3 rounded-xl bg-danger-50 dark:bg-danger-600/10 border border-danger-200 dark:border-danger-600/30 text-danger-700 dark:text-danger-400 text-sm",children:i}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-theme-secondary",children:"Name *"}),e.jsx("input",{type:"text",id:"name",name:"name",required:!0,autoFocus:!0,value:a.name,onChange:s,placeholder:"e.g., Emergency Fund, Vacation",className:n})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"targetAmount",className:"block text-sm font-medium text-theme-secondary",children:"Target Amount *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-theme-muted",children:"$"}),e.jsx("input",{type:"number",id:"targetAmount",name:"targetAmount",required:!0,min:"0",step:"0.01",inputMode:"decimal",value:a.targetAmount,onChange:s,placeholder:"0.00",className:`${n} pl-8`})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"currentAmount",className:"block text-sm font-medium text-theme-secondary",children:"Current Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-theme-muted",children:"$"}),e.jsx("input",{type:"number",id:"currentAmount",name:"currentAmount",min:"0",step:"0.01",inputMode:"decimal",value:a.currentAmount,onChange:s,placeholder:"0.00",className:`${n} pl-8`})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"deadline",className:"block text-sm font-medium text-theme-secondary",children:"Deadline"}),e.jsx("input",{type:"date",id:"deadline",name:"deadline",value:a.deadline,onChange:s,className:n})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-theme-secondary",children:"Notes"}),e.jsx("textarea",{id:"notes",name:"notes",rows:3,value:a.notes,onChange:s,placeholder:"Any additional notes about this goal...",className:`${n} resize-none`})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(d,{type:"submit",disabled:c,children:c?"Creating...":"Create Goal"}),e.jsx("a",{href:"/dashboard/goals",children:e.jsx(d,{type:"button",variant:"secondary",children:"Cancel"})})]})]})})]})]})}export{k as default};
//# sourceMappingURL=new-goal-form.CNS5Mn6v.js.map
